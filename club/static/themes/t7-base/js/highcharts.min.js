(function(){function xt(e,t){var n;if(!e){e={}}for(n in t){e[n]=t[n]}return e}function Tt(){var e=0,t=arguments,n=t.length,r={};for(;e<n;e++){r[t[e++]]=t[e]}return r}function Nt(e,t){return parseInt(e,t||10)}function Ct(e){return typeof e==="string"}function kt(e){return typeof e==="object"}function Lt(e){return Object.prototype.toString.call(e)==="[object Array]"}function At(e){return typeof e==="number"}function Ot(e){return r.log(e)/r.LN10}function Mt(e){return r.pow(10,e)}function _t(e,t){var n=e.length;while(n--){if(e[n]===t){e.splice(n,1);break}}}function Dt(t){return t!==e&&t!==null}function Pt(e,t,n){var r,i="setAttribute",s;if(Ct(t)){if(Dt(n)){e[i](t,n)}else if(e&&e.getAttribute){s=e.getAttribute(t)}}else if(Dt(t)&&kt(t)){for(r in t){e[i](r,t[r])}}return s}function Ht(e){return Lt(e)?e:[e]}function Bt(){var e=arguments,t,n,r=e.length;for(t=0;t<r;t++){n=e[t];if(typeof n!=="undefined"&&n!==null){return n}}}function jt(t,n){if(m){if(n&&n.opacity!==e){n.filter="alpha(opacity="+n.opacity*100+")"}}xt(t.style,n)}function Ft(e,n,r,i,s){var o=t.createElement(e);if(n){xt(o,n)}if(s){jt(o,{padding:0,border:W,margin:0})}if(r){jt(o,r)}if(i){i.appendChild(o)}return o}function It(e,t){var n=function(){};n.prototype=new e;xt(n.prototype,t);return n}function qt(e){e=(e||0).toString();return e.indexOf(".")>-1?e.split(".")[1].length:0}function Rt(e,t,n,r){var i=O.lang,s=e,o=t===-1?qt(e):isNaN(t=f(t))?2:t,u=n===undefined?i.decimalPoint:n,a=r===undefined?i.thousandsSep:r,l=s<0?"-":"",c=String(Nt(s=f(+s||0).toFixed(o))),h=c.length>3?c.length%3:0;return l+(h?c.substr(0,h)+a:"")+c.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+a)+(o?u+f(s-c).toFixed(o).slice(2):"")}function Ut(e,t){return(new Array((t||2)+1-String(e).length)).join(0)+e}function zt(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);e.unshift(r);return n.apply(this,e)}}function Wt(e,t,n,r){var i,s;n=Bt(n,1);i=e/n;if(!t){t=[1,2,2.5,5,10];if(r&&r.allowDecimals===false){if(n===1){t=[1,2,5,10]}else if(n<=.1){t=[1/n]}}}for(s=0;s<t.length;s++){e=t[s];if(i<=(t[s]+(t[s+1]||t[s]))/2){break}}e*=n;return e}function Xt(e,t){var n=t||[[G,[1,2,5,10,20,25,50,100,200,500]],[Y,[1,2,5,10,15,30]],[Z,[1,2,5,10,15,30]],[et,[1,2,3,4,6,8,12]],[tt,[1,2]],[nt,[1,2]],[rt,[1,2,3,4,6]],[it,null]],r=n[n.length-1],i=P[r[0]],s=r[1],o,u;for(u=0;u<n.length;u++){r=n[u];i=P[r[0]];s=r[1];if(n[u+1]){var a=(i*s[s.length-1]+P[n[u+1][0]])/2;if(e<=a){break}}}if(i===P[it]&&e<5*i){s=[1,2,5]}if(i===P[it]&&e<5*i){s=[1,2,5]}o=Wt(e/i,s);return{unitRange:i,count:o,unitName:r[0]}}function Vt(e,t,n,r){var i=[],o,u={},a=O.global.useUTC,f,l=new Date(t),c=e.unitRange,h=e.count;if(Dt(t)){if(c>=P[Y]){l.setMilliseconds(0);l.setSeconds(c>=P[Z]?0:h*s(l.getSeconds()/h))}if(c>=P[Z]){l[gt](c>=P[et]?0:h*s(l[ct]()/h))}if(c>=P[et]){l[yt](c>=P[tt]?0:h*s(l[ht]()/h))}if(c>=P[tt]){l[bt](c>=P[rt]?1:h*s(l[dt]()/h))}if(c>=P[rt]){l[wt](c>=P[it]?0:h*s(l[vt]()/h));f=l[mt]()}if(c>=P[it]){f-=f%h;l[Et](f)}if(c===P[nt]){l[bt](l[dt]()-l[pt]()+Bt(r,1))}o=1;f=l[mt]();var p=l.getTime(),d=l[vt](),v=l[dt](),m=a?0:(24*3600*1e3+l.getTimezoneOffset()*60*1e3)%(24*3600*1e3);while(p<n){i.push(p);if(c===P[it]){p=lt(f+o*h,0)}else if(c===P[rt]){p=lt(f,d+o*h)}else if(!a&&(c===P[tt]||c===P[nt])){p=lt(f,d,v+o*h*(c===P[tt]?1:7))}else{p+=c*h;if(c<=P[et]&&p%P[tt]===m){u[p]=tt}}o++}i.push(p)}i.info=xt(e,{higherRanks:u,totalRange:c*h});return i}function $t(){this.color=0;this.symbol=0}function Jt(e,t){var n=e.length,r,i;for(i=0;i<n;i++){e[i].ss_i=i}e.sort(function(e,n){r=t(e,n);return r===0?e.ss_i-n.ss_i:r});for(i=0;i<n;i++){delete e[i].ss_i}}function Kt(e){var t=e.length,n=e[0];while(t--){if(e[t]<n){n=e[t]}}return n}function Qt(e){var t=e.length,n=e[0];while(t--){if(e[t]>n){n=e[t]}}return n}function Gt(e,t){var n;for(n in e){if(e[n]&&e[n]!==t&&e[n].destroy){e[n].destroy()}delete e[n]}}function Yt(e){if(!A){A=Ft(j)}if(e){A.appendChild(e)}A.innerHTML=""}function Zt(e,t){var r="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t){throw r}else if(n.console){console.log(r)}}function en(e){return parseFloat(e.toPrecision(14))}function tn(e,t){_=Bt(e,t.animation)}function Sn(){var e=O.global.useUTC,t=e?"getUTC":"get",n=e?"setUTC":"set";lt=e?Date.UTC:function(e,t,n,r,i,s){return(new Date(e,t,Bt(n,1),Bt(r,0),Bt(i,0),Bt(s,0))).getTime()};ct=t+"Minutes";ht=t+"Hours";pt=t+"Day";dt=t+"Date";vt=t+"Month";mt=t+"FullYear";gt=n+"Minutes";yt=n+"Hours";bt=n+"Date";wt=n+"Month";Et=n+"FullYear"}function xn(e){O=hn(O,e);Sn();return O}function Tn(){return O}function Cn(){}function Dn(e,t,n){this.axis=e;this.pos=t;this.type=n||"";this.isNew=true;if(!n){this.addLabel()}}function Pn(e,t){this.axis=e;if(t){this.options=t;this.id=t.id}return this}function Hn(e,t,n,r,i,s){var o=e.chart.inverted;this.axis=e;this.isNegative=n;this.options=t;this.x=r;this.stack=i;this.percent=s==="percent";this.alignOptions={align:t.align||(o?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(o?"middle":n?"bottom":"top"),y:Bt(t.y,o?4:n?14:-6),x:Bt(t.x,o?n?-6:6:0)};this.textAlign=t.textAlign||(o?n?"right":"left":"center")}function Bn(){this.init.apply(this,arguments)}function jn(e,t){var n=t.borderWidth,r=t.style,i=Nt(r.padding);this.chart=e;this.options=t;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=true;this.label=e.renderer.label("",0,0,t.shape,null,null,t.useHTML,null,"tooltip").attr({padding:i,fill:t.backgroundColor,"stroke-width":n,r:t.borderRadius,zIndex:8}).css(r).css({padding:0}).hide().add();if(!T){this.label.shadow(t.shadow)}this.shared=t.shared}function Fn(e,t){var n=T?"":t.chart.zoomType;this.zoomX=/x/.test(n);this.zoomY=/y/.test(n);this.options=t;this.chart=e;this.init(e,t.tooltip)}function In(e){this.init(e)}function qn(){this.init.apply(this,arguments)}var e,t=document,n=window,r=Math,i=r.round,s=r.floor,o=r.ceil,u=r.max,a=r.min,f=r.abs,l=r.cos,c=r.sin,h=r.PI,p=h*2/360,d=navigator.userAgent,v=n.opera,m=/msie/i.test(d)&&!v,g=t.documentMode===8,y=/AppleWebKit/.test(d),b=/Firefox/.test(d),w=/(Mobile|Android|Windows Phone)/.test(d),E="http://www.w3.org/2000/svg",S=!!t.createElementNS&&!!t.createElementNS(E,"svg").createSVGRect,x=b&&parseInt(d.split("Firefox/")[1],10)<4,T=!S&&!m&&!!t.createElement("canvas").getContext,N,C=t.documentElement.ontouchstart!==e,k={},L=0,A,O,M,_,D,P,H=function(){},B=[],j="div",F="absolute",I="relative",q="hidden",R="highcharts-",U="visible",z="px",W="none",X="M",V="L",$="rgba(192,192,192,"+(S?1e-4:.002)+")",J="",K="hover",Q="select",G="millisecond",Y="second",Z="minute",et="hour",tt="day",nt="week",rt="month",it="year",st="fill",ot="linearGradient",ut="stops",at="stroke",ft="stroke-width",lt,ct,ht,pt,dt,vt,mt,gt,yt,bt,wt,Et,St={};n.Highcharts=n.Highcharts?Zt(16,true):{};M=function(e,t,n){if(!Dt(t)||isNaN(t)){return"Invalid date"}e=Bt(e,"%Y-%m-%d %H:%M:%S");var r=new Date(t),s,o=r[ht](),u=r[pt](),a=r[dt](),f=r[vt](),l=r[mt](),c=O.lang,h=c.weekdays,p={a:h[u].substr(0,3),A:h[u],d:Ut(a),e:a,b:c.shortMonths[f],B:c.months[f],m:Ut(f+1),y:l.toString().substr(2,2),Y:l,H:Ut(o),I:Ut(o%12||12),l:o%12||12,M:Ut(r[ct]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:Ut(r.getSeconds()),L:Ut(i(t%1e3),3)};for(s in p){while(e.indexOf("%"+s)!==-1){e=e.replace("%"+s,p[s])}}return n?e.substr(0,1).toUpperCase()+e.substr(1):e};$t.prototype={wrapColor:function(e){if(this.color>=e){this.color=0}},wrapSymbol:function(e){if(this.symbol>=e){this.symbol=0}}};P=Tt(G,1,Y,1e3,Z,6e4,et,36e5,tt,24*36e5,nt,7*24*36e5,rt,31*24*36e5,it,31556952e3);D={init:function(e,t,n){t=t||"";var r=e.shift,i=t.indexOf("C")>-1,s=i?7:3,o,u,a,f=t.split(" "),l=[].concat(n),c,h,p=function(e){a=e.length;while(a--){if(e[a]===X){e.splice(a+1,0,e[a+1],e[a+2],e[a+1],e[a+2])}}};if(i){p(f);p(l)}if(e.isArea){c=f.splice(f.length-6,6);h=l.splice(l.length-6,6)}if(r<=l.length/s){while(r--){l=[].concat(l).splice(0,s).concat(l)}}e.shift=0;if(f.length){o=l.length;while(f.length<o){u=[].concat(f).splice(f.length-s,s);if(i){u[s-6]=u[s-2];u[s-5]=u[s-1]}f=f.concat(u)}}if(c){f=f.concat(c);l=l.concat(h)}return[f,l]},step:function(e,t,n,r){var i=[],s=e.length,o;if(n===1){i=r}else if(s===t.length&&n<1){while(s--){o=parseFloat(e[s]);i[s]=isNaN(o)?e[s]:n*parseFloat(t[s]-o)+o}}else{i=t}return i}};(function(r){n.HighchartsAdapter=n.HighchartsAdapter||r&&{init:function(t){var n=r.fx,i=n.step,s,o=r.Tween,u=o&&o.propHooks;r.extend(r.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}});r.each(["cur","_default","width","height"],function(t,r){var s=i,a,f;if(r==="cur"){s=n.prototype}else if(r==="_default"&&o){s=u[r];r="set"}a=s[r];if(a){s[r]=function(n){n=t?n:this;f=n.elem;return f.attr?f.attr(n.prop,r==="cur"?e:n.now):a.apply(this,arguments)}}});s=function(e){var n=e.elem,r;if(!e.started){r=t.init(n,n.d,n.toD);e.start=r[0];e.end=r[1];e.started=true}n.attr("d",t.step(e.start,e.end,e.pos,n.toD))};if(o){u.d={set:s}}else{i.d=s}this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var n=0,r=e.length;for(;n<r;n++){if(t.call(e[n],e[n],n,e)===false){return n}}}},getScript:r.getScript,inArray:r.inArray,adapterRun:function(e,t){return r(e)[t]()},grep:r.grep,map:function(e,t){var n=[],r=0,i=e.length;for(;r<i;r++){n[r]=t.call(e[r],e[r],r,e)}return n},merge:function(){var e=arguments;return r.extend(true,null,e[0],e[1],e[2],e[3])},offset:function(e){return r(e).offset()},addEvent:function(e,t,n){r(e).bind(t,n)},removeEvent:function(e,n,i){var s=t.removeEventListener?"removeEventListener":"detachEvent";if(t[s]&&!e[s]){e[s]=function(){}}r(e).unbind(n,i)},fireEvent:function(e,t,n,i){var s=r.Event(t),o="detached"+t,u;if(!m&&n){delete n.layerX;delete n.layerY}xt(s,n);if(e[t]){e[o]=e[t];e[t]=null}r.each(["preventDefault","stopPropagation"],function(e,t){var n=s[t];s[t]=function(){try{n.call(s)}catch(e){if(t==="preventDefault"){u=true}}}});r(e).trigger(s);if(e[o]){e[t]=e[o];e[o]=null}if(i&&!s.isDefaultPrevented()&&!u){i(s)}},washMouseEvent:function(t){var n=t.originalEvent||t;if(n.pageX===e){n.pageX=t.pageX;n.pageY=t.pageY}return n},animate:function(e,t,n){var i=r(e);if(t.d){e.toD=t.d;t.d=1}i.stop();i.animate(t,n)},stop:function(e){r(e).stop()}}})(n.jQuery);var nn=n.HighchartsAdapter,rn=nn||{};if(nn){nn.init.call(nn,D)}var sn=rn.adapterRun,on=rn.getScript,un=rn.inArray,an=rn.each,fn=rn.grep,ln=rn.offset,cn=rn.map,hn=rn.merge,pn=rn.addEvent,dn=rn.removeEvent,vn=rn.fireEvent,mn=rn.washMouseEvent,gn=rn.animate,yn=rn.stop;var bn={enabled:true,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};O={colors:["#4572A7","#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:true,canvasToolsURL:"http://code.highcharts.com/2.3.5/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/2.3.5/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:true,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:false,showCheckbox:false,animation:{duration:1e3},events:{},lineWidth:2,shadow:true,marker:{enabled:true,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:true},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:hn(bn,{enabled:false,formatter:function(){return this.y},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,showInLegend:true,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:true}},labels:{style:{position:F,color:"#3E576F"}},legend:{enabled:true,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#3E576F",inactiveColor:"#CCC"},shadow:false,itemStyle:{cursor:"pointer",color:"#3E576F",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:F,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{labelStyle:{fontWeight:"bold",position:I,top:"1em"},style:{position:F,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:true,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:true,shared:T,snap:w?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},credits:{enabled:true,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var wn=O.plotOptions,En=wn.line;Sn();var Nn=function(e){function r(e){n=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(e);if(n){t=[Nt(n[1]),Nt(n[2]),Nt(n[3]),parseFloat(n[4],10)]}else{n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e);if(n){t=[Nt(n[1],16),Nt(n[2],16),Nt(n[3],16),1]}}}function i(n){var r;if(t&&!isNaN(t[0])){if(n==="rgb"){r="rgb("+t[0]+","+t[1]+","+t[2]+")"}else if(n==="a"){r=t[3]}else{r="rgba("+t.join(",")+")"}}else{r=e}return r}function s(e){if(At(e)&&e!==0){var n;for(n=0;n<3;n++){t[n]+=Nt(e*255);if(t[n]<0){t[n]=0}if(t[n]>255){t[n]=255}}}return this}function o(e){t[3]=e;return this}var t=[],n;r(e);return{get:i,brighten:s,setOpacity:o}};Cn.prototype={init:function(e,n){var r=this;r.element=n==="span"?Ft(n):t.createElementNS(E,n);r.renderer=e;r.attrSetters={}},animate:function(e,t,n){var r=Bt(t,_,true);yn(this);if(r){r=hn(r);if(n){r.complete=n}gn(this,e,r)}else{this.attr(e);if(n){n()}}},attr:function(n,r){var i=this,s,o,a,f,l,c=i.element,h=c.nodeName.toLowerCase(),p=i.renderer,d,v,m=i.attrSetters,g=i.shadows,y,b,w=i;if(Ct(n)&&Dt(r)){s=n;n={};n[s]=r}if(Ct(n)){s=n;if(h==="circle"){s={x:"cx",y:"cy"}[s]||s}else if(s==="strokeWidth"){s="stroke-width"}w=Pt(c,s)||i[s]||0;if(s!=="d"&&s!=="visibility"){w=parseFloat(w)}}else{for(s in n){d=false;o=n[s];a=m[s]&&m[s].call(i,o,s);if(a!==false){if(a!==e){o=a}if(s==="d"){if(o&&o.join){o=o.join(" ")}if(/(NaN| {2}|^$)/.test(o)){o="M 0 0"}}else if(s==="x"&&h==="text"){for(f=0;f<c.childNodes.length;f++){l=c.childNodes[f];if(Pt(l,"x")===Pt(c,"x")){Pt(l,"x",o)}}}else if(i.rotation&&(s==="x"||s==="y")){b=true}else if(s==="fill"){o=p.color(o,c,s)}else if(h==="circle"&&(s==="x"||s==="y")){s={x:"cx",y:"cy"}[s]||s}else if(h==="rect"&&s==="r"){Pt(c,{rx:o,ry:o});d=true}else if(s==="translateX"||s==="translateY"||s==="rotation"||s==="verticalAlign"){b=true;d=true}else if(s==="stroke"){o=p.color(o,c,s)}else if(s==="dashstyle"){s="stroke-dasharray";o=o&&o.toLowerCase();if(o==="solid"){o=W}else if(o){o=o.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");f=o.length;while(f--){o[f]=Nt(o[f])*n["stroke-width"]}o=o.join(",")}}else if(s==="isTracker"){i[s]=o}else if(s==="width"){o=Nt(o)}else if(s==="align"){s="text-anchor";o={left:"start",center:"middle",right:"end"}[o]}else if(s==="title"){v=c.getElementsByTagName("title")[0];if(!v){v=t.createElementNS(E,"title");c.appendChild(v)}v.textContent=o}if(s==="strokeWidth"){s="stroke-width"}if(s==="stroke-width"||s==="stroke"){i[s]=o;if(i.stroke&&i["stroke-width"]){Pt(c,"stroke",i.stroke);Pt(c,"stroke-width",i["stroke-width"]);i.hasStroke=true}else if(s==="stroke-width"&&o===0&&i.hasStroke){c.removeAttribute("stroke");i.hasStroke=false}d=true}if(i.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(s)){if(!y){i.symbolAttr(n);y=true}d=true}if(g&&/^(width|height|visibility|x|y|d|transform)$/.test(s)){f=g.length;while(f--){Pt(g[f],s,s==="height"?u(o-(g[f].cutHeight||0),0):o)}}if((s==="width"||s==="height")&&h==="rect"&&o<0){o=0}i[s]=o;if(s==="text"){if(o!==i.textStr){delete i.bBox}i.textStr=o;if(i.added){p.buildText(i)}}else if(!d){Pt(c,s,o)}}}if(b){i.updateTransform()}}return w},symbolAttr:function(e){var t=this;an(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(n){t[n]=Bt(e[n],t[n])});t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":W)},crisp:function(e,t,n,r,o){var u=this,a,f={},l={},c;e=e||u.strokeWidth||u.attr&&u.attr("stroke-width")||0;c=i(e)%2/2;l.x=s(t||u.x||0)+c;l.y=s(n||u.y||0)+c;l.width=s((r||u.width||0)-2*c);l.height=s((o||u.height||0)-2*c);l.strokeWidth=e;for(a in l){if(u[a]!==l[a]){u[a]=f[a]=l[a]}}return f},css:function(e){var t=this,n=t.element,r=e&&e.width&&n.nodeName.toLowerCase()==="text",i,s="",o=function(e,t){return"-"+t.toLowerCase()};if(e&&e.color){e.fill=e.color}e=xt(t.styles,e);t.styles=e;if(T&&r){delete e.width}if(m&&!S){if(r){delete e.width}jt(t.element,e)}else{for(i in e){s+=i.replace(/([A-Z])/g,o)+":"+e[i]+";"}t.attr({style:s})}if(r&&t.added){t.renderer.buildText(t)}return t},on:function(e,t){if(C&&e==="click"){this.element.ontouchstart=function(e){e.preventDefault();t()}}this.element["on"+e]=t;return this},setRadialReference:function(e){this.element.radialReference=e;return this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){var e=this;e.inverted=true;e.updateTransform();return e},htmlCss:function(e){var t=this,n=t.element,r=e&&n.tagName==="SPAN"&&e.width;if(r){delete e.width;t.textWidth=r;t.updateTransform()}t.styles=xt(t.styles,e);jt(t.element,e);return t},htmlGetBBox:function(){var e=this,t=e.element,n=e.bBox;if(!n){if(t.nodeName==="text"){t.style.position=F}n=e.bBox={x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}return n},htmlUpdateTransform:function(){if(!this.added){this.alignOnAdd=true;return}var e=this,t=e.renderer,n=e.element,r=e.translateX||0,i=e.translateY||0,s=e.x||0,o=e.y||0,u=e.textAlign||"left",a={left:0,center:.5,right:1}[u],f=u&&u!=="left",h=e.shadows;if(r||i){jt(n,{marginLeft:r,marginTop:i});if(h){an(h,function(e){jt(e,{marginLeft:r+1,marginTop:i+1})})}}if(e.inverted){an(n.childNodes,function(e){t.invertChild(e,n)})}if(n.tagName==="SPAN"){var d,g,w=e.rotation,E,S=0,x=1,T=0,N,C=Nt(e.textWidth),k=e.xCorr||0,L=e.yCorr||0,A=[w,u,n.innerHTML,e.textWidth].join(","),O={},M;if(A!==e.cTT){if(Dt(w)){if(t.isSVG){M=m?"-ms-transform":y?"-webkit-transform":b?"MozTransform":v?"-o-transform":"";O[M]=O.transform="rotate("+w+"deg)"}else{S=w*p;x=l(S);T=c(S);O.filter=w?["progid:DXImageTransform.Microsoft.Matrix(M11=",x,", M12=",-T,", M21=",T,", M22=",x,", sizingMethod='auto expand')"].join(""):W}jt(n,O)}d=Bt(e.elemWidth,n.offsetWidth);g=Bt(e.elemHeight,n.offsetHeight);if(d>C&&/[ \-]/.test(n.textContent||n.innerText)){jt(n,{width:C+z,display:"block",whiteSpace:"normal"});d=C}E=t.fontMetrics(n.style.fontSize).b;k=x<0&&-d;L=T<0&&-g;N=x*T<0;k+=T*E*(N?1-a:a);L-=x*E*(w?N?a:1-a:1);if(f){k-=d*a*(x<0?-1:1);if(w){L-=g*a*(T<0?-1:1)}jt(n,{textAlign:u})}e.xCorr=k;e.yCorr=L}jt(n,{left:s+k+z,top:o+L+z});if(y){g=n.offsetHeight}e.cTT=A}},updateTransform:function(){var e=this,t=e.translateX||0,n=e.translateY||0,r=e.inverted,i=e.rotation,s=[];if(r){t+=e.attr("width");n+=e.attr("height")}if(t||n){s.push("translate("+t+","+n+")")}if(r){s.push("rotate(90) scale(-1,1)")}else if(i){s.push("rotate("+i+" "+(e.x||0)+" "+(e.y||0)+")")}if(s.length){Pt(e.element,"transform",s.join(" "))}},toFront:function(){var e=this.element;e.parentNode.appendChild(e);return this},align:function(e,t,n){var r=this;if(!e){e=r.alignOptions;t=r.alignByTranslate}else{r.alignOptions=e;r.alignByTranslate=t;if(!n){r.renderer.alignedObjects.push(r)}}n=Bt(n,r.renderer);var s=e.align,o=e.verticalAlign,u=(n.x||0)+(e.x||0),a=(n.y||0)+(e.y||0),f={};if(s==="right"||s==="center"){u+=(n.width-(e.width||0))/{right:1,center:2}[s]}f[t?"translateX":"x"]=i(u);if(o==="bottom"||o==="middle"){a+=(n.height-(e.height||0))/({bottom:1,middle:2}[o]||1)}f[t?"translateY":"y"]=i(a);r[r.placed?"animate":"attr"](f);r.placed=true;r.alignAttr=f;return r},getBBox:function(){var e=this,t=e.bBox,n=e.renderer,r,i,s=e.rotation,o=e.element,u=e.styles,a=s*p;if(!t){if(o.namespaceURI===E||n.forExport){try{t=o.getBBox?xt({},o.getBBox()):{width:o.offsetWidth,height:o.offsetHeight}}catch(h){}if(!t||t.width<0){t={width:0,height:0}}}else{t=e.htmlGetBBox()}if(n.isSVG){r=t.width;i=t.height;if(m&&u&&u.fontSize==="11px"&&i===22.700000762939453){t.height=i=14}if(s){t.width=f(i*c(a))+f(r*l(a));t.height=f(i*l(a))+f(r*c(a))}}e.bBox=t}return t},show:function(){return this.attr({visibility:U})},hide:function(){return this.attr({visibility:q})},add:function(e){var t=this.renderer,n=e||t,r=n.element||t.box,i=r.childNodes,s=this.element,o=Pt(s,"zIndex"),u,a,f,l;if(e){this.parentGroup=e}this.parentInverted=e&&e.inverted;if(this.textStr!==undefined){t.buildText(this)}if(o){n.handleZ=true;o=Nt(o)}if(n.handleZ){for(f=0;f<i.length;f++){u=i[f];a=Pt(u,"zIndex");if(u!==s&&(Nt(a)>o||!Dt(o)&&Dt(a))){r.insertBefore(s,u);l=true;break}}}if(!l){r.appendChild(s)}this.added=true;vn(this,"add");return this},safeRemoveChild:function(e){var t=e.parentNode;if(t){t.removeChild(e)}},destroy:function(){var e=this,t=e.element||{},n=e.shadows,r,i;t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=null;yn(e);if(e.clipPath){e.clipPath=e.clipPath.destroy()}if(e.stops){for(i=0;i<e.stops.length;i++){e.stops[i]=e.stops[i].destroy()}e.stops=null}e.safeRemoveChild(t);if(n){an(n,function(t){e.safeRemoveChild(t)})}_t(e.renderer.alignedObjects,e);for(r in e){delete e[r]}return null},empty:function(){var e=this.element,t=e.childNodes,n=t.length;while(n--){e.removeChild(t[n])}},shadow:function(e,t,n){var r=[],i,s,o=this.element,a,f,l,c;if(e){f=Bt(e.width,3);l=(e.opacity||.15)/f;c=this.parentInverted?"(-1,-1)":"("+Bt(e.offsetX,1)+", "+Bt(e.offsetY,1)+")";for(i=1;i<=f;i++){s=o.cloneNode(0);a=f*2+1-2*i;Pt(s,{isShadow:"true",stroke:e.color||"black","stroke-opacity":l*i,"stroke-width":a,transform:"translate"+c,fill:W});if(n){Pt(s,"height",u(Pt(s,"height")-a,0));s.cutHeight=a}if(t){t.element.appendChild(s)}else{o.parentNode.insertBefore(s,o)}r.push(s)}this.shadows=r}return this}};var kn=function(){this.init.apply(this,arguments)};kn.prototype={Element:Cn,init:function(e,r,i,s){var u=this,a=location,f;f=u.createElement("svg").attr({xmlns:E,version:"1.1"});e.appendChild(f.element);u.isSVG=true;u.box=f.element;u.boxWrapper=f;u.alignedObjects=[];u.url=(b||y)&&t.getElementsByTagName("base").length?a.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";u.defs=this.createElement("defs").add();u.forExport=s;u.gradients={};u.setSize(r,i,false);var l,c;if(b&&e.getBoundingClientRect){u.subPixelFix=l=function(){jt(e,{left:0,top:0});c=e.getBoundingClientRect();jt(e,{left:o(c.left)-c.left+z,top:o(c.top)-c.top+z})};l();pn(n,"resize",l)}},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this,t=e.defs;e.box=null;e.boxWrapper=e.boxWrapper.destroy();Gt(e.gradients||{});e.gradients=null;if(t){e.defs=t.destroy()}if(e.subPixelFix){dn(n,"resize",e.subPixelFix)}e.alignedObjects=null;return null},createElement:function(e){var t=new this.Element;t.init(this,e);return t},draw:function(){},buildText:function(e){function g(t){m[t]=r.getBBox?r.getBBox().height:e.renderer.fontMetrics(r.style.fontSize).h;return i(m[t]-(m[t-1]||0))}var r=e.element,s=Bt(e.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),o=r.childNodes,u=/style="([^"]+)"/,a=/href="([^"]+)"/,f=Pt(r,"x"),l=e.styles,c=l&&l.width&&Nt(l.width),h=l&&l.lineHeight,p,d="getComputedStyle",v=o.length,m=[];while(v--){r.removeChild(o[v])}if(c&&!e.added){this.box.appendChild(r)}if(s[s.length-1]===""){s.pop()}an(s,function(i,s){var o,l=0,v;i=i.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");o=i.split("|||");an(o,function(i){if(i!==""||o.length===1){var m={},y=t.createElementNS(E,"tspan"),b;if(u.test(i)){b=i.match(u)[1].replace(/(;| |^)color([ :])/,"$1fill$2");Pt(y,"style",b)}if(a.test(i)){Pt(y,"onclick",'location.href="'+i.match(a)[1]+'"');jt(y,{cursor:"pointer"})}i=(i.replace(/<(.|\n)*?>/g,"")||" ").replace(/</g,"<").replace(/>/g,">");y.appendChild(t.createTextNode(i));if(!l){m.x=f}else{m.dx=3}if(!l){if(s){if(!S&&e.renderer.forExport){jt(y,{display:"block"})}v=n[d]&&Nt(n[d](p,null).getPropertyValue("line-height"));if(!v||isNaN(v)){v=h||p.offsetHeight||g(s)||18}Pt(y,"dy",v)}p=y}Pt(y,m);r.appendChild(y);l++;if(c){var w=i.replace(/([^\^])-/g,"$1- ").split(" "),x,T,N=[];while(w.length||N.length){delete e.bBox;T=e.getBBox().width;x=T>c;if(!x||w.length===1){w=N;N=[];if(w.length){y=t.createElementNS(E,"tspan");Pt(y,{dy:h||16,x:f});if(b){Pt(y,"style",b)}r.appendChild(y);if(T>c){c=T}}}else{y.removeChild(y.firstChild);N.unshift(w.pop())}if(w.length){y.appendChild(t.createTextNode(w.join(" ").replace(/- /g,"-")))}}}}})})},button:function(e,t,n,r,i,s,o){var u=this.label(e,t,n),a=0,f,l,c,h,p,d="style",v={x1:0,y1:0,x2:0,y2:1};i=hn(Tt(ft,1,at,"#999",st,Tt(ot,v,ut,[[0,"#FFF"],[1,"#DDD"]]),"r",3,"padding",3,d,Tt("color","black")),i);c=i[d];delete i[d];s=hn(i,Tt(at,"#68A",st,Tt(ot,v,ut,[[0,"#FFF"],[1,"#ACF"]])),s);h=s[d];delete s[d];o=hn(i,Tt(at,"#68A",st,Tt(ot,v,ut,[[0,"#9BD"],[1,"#CDF"]])),o);p=o[d];delete o[d];pn(u.element,"mouseenter",function(){u.attr(s).css(h)});pn(u.element,"mouseleave",function(){f=[i,s,o][a];l=[c,h,p][a];u.attr(f).css(l)});u.setState=function(e){a=e;if(!e){u.attr(i).css(c)}else if(e===2){u.attr(o).css(p)}};return u.on("click",function(){r.call(u)}).attr(i).css(xt({cursor:"default"},c))},crispLine:function(e,t){if(e[1]===e[4]){e[1]=e[4]=i(e[1])-t%2/2}if(e[2]===e[5]){e[2]=e[5]=i(e[2])+t%2/2}return e},path:function(e){var t={fill:W};if(Lt(e)){t.d=e}else if(kt(e)){xt(t,e)}return this.createElement("path").attr(t)},circle:function(e,t,n){var r=kt(e)?e:{x:e,y:t,r:n};return this.createElement("circle").attr(r)},arc:function(e,t,n,r,i,s){if(kt(e)){t=e.y;n=e.r;r=e.innerR;i=e.start;s=e.end;e=e.x}return this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:r||0,start:i||0,end:s||0})},rect:function(e,t,n,r,i,s){i=kt(e)?e.r:i;var o=this.createElement("rect").attr({rx:i,ry:i,fill:W});return o.attr(kt(e)?e:o.crisp(s,e,t,u(n,0),u(r,0)))},setSize:function(e,t,n){var r=this,i=r.alignedObjects,s=i.length;r.width=e;r.height=t;r.boxWrapper[Bt(n,true)?"animate":"attr"]({width:e,height:t});while(s--){i[s].align()}},g:function(e){var t=this.createElement("g");return Dt(e)?t.attr({"class":R+e}):t},image:function(e,t,n,r,i){var s={preserveAspectRatio:W},o;if(arguments.length>1){xt(s,{x:t,y:n,width:r,height:i})}o=this.createElement("image").attr(s);if(o.element.setAttributeNS){o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e)}else{o.element.setAttribute("hc-svg-href",e)}return o},symbol:function(e,t,n,r,s,o){var u,a=this.symbols[e],f=a&&a(i(t),i(n),r,s,o),l,c=/^url\((.*?)\)$/,h,p,d;if(f){u=this.path(f);xt(u,{symbolName:e,x:t,y:n,width:r,height:s});if(o){xt(u,o)}}else if(c.test(e)){d=function(e,t){if(e.element){e.attr({width:t[0],height:t[1]});if(!e.alignByTranslate){e.translate(i((r-t[0])/2),i((s-t[1])/2))}}};h=e.match(c)[1];p=k[h];u=this.image(h).attr({x:t,y:n});if(p){d(u,p)}else{u.attr({width:0,height:0});l=Ft("img",{onload:function(){d(u,k[h]=[this.width,this.height])},src:h})}}return u},symbols:{circle:function(e,t,n,r){var i=.166*n;return[X,e+n/2,t,"C",e+n+i,t,e+n+i,t+r,e+n/2,t+r,"C",e-i,t+r,e-i,t,e+n/2,t,"Z"]},square:function(e,t,n,r){return[X,e,t,V,e+n,t,e+n,t+r,e,t+r,"Z"]},triangle:function(e,t,n,r){return[X,e+n/2,t,V,e+n,t+r,e,t+r,"Z"]},"triangle-down":function(e,t,n,r){return[X,e,t,V,e+n,t,e+n/2,t+r,"Z"]},diamond:function(e,t,n,r){return[X,e+n/2,t,V,e+n,t+r/2,e+n/2,t+r,e,t+r/2,"Z"]},arc:function(e,t,n,r,i){var s=i.start,o=i.r||n||r,u=i.end-1e-6,a=i.innerR,f=i.open,p=l(s),d=c(s),v=l(u),m=c(u),g=i.end-s<h?0:1;return[X,e+o*p,t+o*d,"A",o,o,0,g,1,e+o*v,t+o*m,f?X:V,e+a*v,t+a*m,"A",a,a,0,g,0,e+a*p,t+a*d,f?"":"Z"]}},clipRect:function(e,t,n,r){var i,s=R+L++,o=this.createElement("clipPath").attr({id:s}).add(this.defs);i=this.rect(e,t,n,r,0).add(o);i.id=s;i.clipPath=o;return i},color:function(e,t,n){var r=this,i,s=/^rgba/,o,u,a,f,l,c,h,p,d,v,m=[];if(e&&e.linearGradient){o="linearGradient"}else if(e&&e.radialGradient){o="radialGradient"}if(o){u=e[o];a=r.gradients;l=e.stops;p=t.radialReference;if(Lt(u)){e[o]=u={x1:u[0],y1:u[1],x2:u[2],y2:u[3],gradientUnits:"userSpaceOnUse"}}if(o==="radialGradient"&&p&&!Dt(u.gradientUnits)){xt(u,{cx:p[0]-p[2]/2+u.cx*p[2],cy:p[1]-p[2]/2+u.cy*p[2],r:u.r*p[2],gradientUnits:"userSpaceOnUse"})}for(d in u){if(d!=="id"){m.push(d,u[d])}}for(d in l){m.push(l[d])}m=m.join(",");if(a[m]){v=a[m].id}else{u.id=v=R+L++;a[m]=f=r.createElement(o).attr(u).add(r.defs);f.stops=[];an(l,function(e){var t;if(s.test(e[1])){i=Nn(e[1]);c=i.get("rgb");h=i.get("a")}else{c=e[1];h=1}t=r.createElement("stop").attr({offset:e[0],"stop-color":c,"stop-opacity":h}).add(f);f.stops.push(t)})}return"url("+r.url+"#"+v+")"}else if(s.test(e)){i=Nn(e);Pt(t,n+"-opacity",i.get("a"));return i.get("rgb")}else{t.removeAttribute(n+"-opacity");return e}},text:function(e,t,n,r){var s=this,o=O.chart.style,u=T||!S&&s.forExport,a;if(r&&!s.forExport){return s.html(e,t,n)}t=i(Bt(t,0));n=i(Bt(n,0));a=s.createElement("text").attr({x:t,y:n,text:e}).css({fontFamily:o.fontFamily,fontSize:o.fontSize});if(u){a.css({position:F})}a.x=t;a.y=n;return a},html:function(e,t,n){var r=O.chart.style,s=this.createElement("span"),o=s.attrSetters,u=s.element,a=s.renderer;o.text=function(e){if(e!==u.innerHTML){delete this.bBox}u.innerHTML=e;return false};o.x=o.y=o.align=function(e,t){if(t==="align"){t="textAlign"}s[t]=e;s.htmlUpdateTransform();return false};s.attr({text:e,x:i(t),y:i(n)}).css({position:F,whiteSpace:"nowrap",fontFamily:r.fontFamily,fontSize:r.fontSize});s.css=s.htmlCss;if(a.isSVG){s.add=function(e){var t,n=a.box.parentNode,r,i=[];if(e){t=e.div;if(!t){r=e;while(r){i.push(r);r=r.parentGroup}an(i.reverse(),function(e){var r;t=e.div=e.div||Ft(j,{className:Pt(e.element,"class")},{position:F,left:(e.translateX||0)+z,top:(e.translateY||0)+z},t||n);r=t.style;xt(e.attrSetters,{translateX:function(e){r.left=e+z},translateY:function(e){r.top=e+z},visibility:function(e,t){r[t]=e}})})}}else{t=n}t.appendChild(u);s.added=true;if(s.alignOnAdd){s.htmlUpdateTransform()}return s}}return s},fontMetrics:function(e){e=Nt(e||11);var t=e<24?e+4:i(e*1.2),n=i(t*.8);return{h:t,b:n}},label:function(t,n,r,s,o,u,a,f,l){function k(){var e,t,n=p.element.style;v=(y===undefined||b===undefined||h.styles.textAlign)&&p.getBBox();h.width=(y||v.width||0)+2*g;h.height=(b||v.height||0)+2*g;T=g+c.fontMetrics(n&&n.fontSize).b;if(C){if(!d){e=i(-m*g);t=f?-T:0;h.box=d=s?c.symbol(s,e,t,h.width,h.height):c.rect(e,t,h.width,h.height,0,x[ft]);d.add(h)}d.attr(hn({width:h.width,height:h.height},x));x=null}}function L(){var e=h.styles,t=e&&e.textAlign,n=g*(1-m),r;r=f?0:T;if(Dt(y)&&(t==="center"||t==="right")){n+={center:.5,right:1}[t]*(y-v.width)}if(n!==p.x||r!==p.y){p.attr({x:n,y:r})}p.x=n;p.y=r}function A(e,t){if(d){d.attr(e,t)}else{x[e]=t}}function O(){p.add(h);h.attr({text:t,x:n,y:r});if(d&&Dt(o)){h.attr({anchorX:o,anchorY:u})}}var c=this,h=c.g(l),p=c.text("",0,0,a).attr({zIndex:1}),d,v,m=0,g=3,y,b,w,E,S=0,x={},T,N=h.attrSetters,C;pn(h,"add",O);N.width=function(e){y=e;return false};N.height=function(e){b=e;return false};N.padding=function(e){if(Dt(e)&&e!==g){g=e;L()}return false};N.align=function(e){m={left:0,center:.5,right:1}[e];return false};N.text=function(e,t){p.attr(t,e);k();L();return false};N[ft]=function(e,t){C=true;S=e%2/2;A(t,e);return false};N.stroke=N.fill=N.r=function(e,t){if(t==="fill"){C=true}A(t,e);return false};N.anchorX=function(e,t){o=e;A(t,e+S-w);return false};N.anchorY=function(e,t){u=e;A(t,e-E);return false};N.x=function(e){h.x=e;e-=m*((y||v.width)+g);w=i(e);h.attr("translateX",w);return false};N.y=function(e){E=h.y=i(e);h.attr("translateY",E);return false};var M=h.css;return xt(h,{css:function(t){if(t){var n={};t=hn({},t);an(["fontSize","fontWeight","fontFamily","color","lineHeight","width"],function(r){if(t[r]!==e){n[r]=t[r];delete t[r]}});p.css(n)}return M.call(h,t)},getBBox:function(){return{width:v.width+2*g,height:v.height+2*g,x:v.x-g,y:v.y-g}},shadow:function(e){if(d){d.shadow(e)}return h},destroy:function(){dn(h,"add",O);dn(h.element,"mouseenter");dn(h.element,"mouseleave");if(p){p=p.destroy()}if(d){d=d.destroy()}Cn.prototype.destroy.call(h);h=c=k=L=A=O=null}})}};N=kn;var Ln;if(!S&&!T){var An={init:function(e,t){var n=this,r=["<",t,' filled="f" stroked="f"'],i=["position: ",F,";"];if(t==="shape"||t===j){i.push("left:0;top:0;width:1px;height:1px;")}if(g){i.push("visibility: ",t===j?q:U)}r.push(' style="',i.join(""),'"/>');if(t){r=t===j||t==="span"||t==="img"?r.join(""):e.prepVML(r);n.element=Ft(r)}n.renderer=e;n.attrSetters={}},add:function(e){var t=this,n=t.renderer,r=t.element,i=n.box,s=e&&e.inverted,o=e?e.element||e:i;if(s){n.invertChild(r,o)}o.appendChild(r);t.added=true;if(t.alignOnAdd&&!t.deferUpdateTransform){t.updateTransform()}vn(t,"add");return t},updateTransform:Cn.prototype.htmlUpdateTransform,attr:function(t,n){var r=this,s,o,a,f,h=r.element||{},d=h.style,v=h.nodeName,m=r.renderer,y=r.symbolName,b,w=r.shadows,E,S=r.attrSetters,x=r;if(Ct(t)&&Dt(n)){s=t;t={};t[s]=n}if(Ct(t)){s=t;if(s==="strokeWidth"||s==="stroke-width"){x=r.strokeweight}else{x=r[s]}}else{for(s in t){o=t[s];E=false;f=S[s]&&S[s].call(r,o,s);if(f!==false&&o!==null){if(f!==e){o=f}if(y&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(s)){if(!b){r.symbolAttr(t);b=true}E=true}else if(s==="d"){o=o||[];r.d=o.join(" ");a=o.length;var T=[];while(a--){if(At(o[a])){T[a]=i(o[a]*10)-5}else if(o[a]==="Z"){T[a]="x"}else{T[a]=o[a];if(o[a]==="wa"||o[a]==="at"){if(T[a+5]===T[a+7]){T[a+7]-=1}if(T[a+6]===T[a+8]){T[a+8]-=1}}}}o=T.join(" ")||"x";h.path=o;if(w){a=w.length;while(a--){w[a].path=w[a].cutOff?this.cutOffPath(o,w[a].cutOff):o}}E=true}else if(s==="visibility"){if(w){a=w.length;while(a--){w[a].style[s]=o}}if(v==="DIV"){o=o===q?"-999em":0;s="top"}d[s]=o;E=true}else if(s==="zIndex"){if(o){d[s]=o}E=true}else if(s==="width"||s==="height"){o=u(0,o);this[s]=o;if(r.updateClipping){r[s]=o;r.updateClipping()}else{d[s]=o}E=true}else if(s==="x"||s==="y"){r[s]=o;d[{x:"left",y:"top"}[s]]=o}else if(s==="class"){h.className=o}else if(s==="stroke"){o=m.color(o,h,s);s="strokecolor"}else if(s==="stroke-width"||s==="strokeWidth"){h.stroked=o?true:false;s="strokeweight";r[s]=o;if(At(o)){o+=z}}else if(s==="dashstyle"){var N=h.getElementsByTagName("stroke")[0]||Ft(m.prepVML(["<stroke/>"]),null,null,h);N[s]=o||"solid";r.dashstyle=o;E=true}else if(s==="fill"){if(v==="SPAN"){d.color=o}else if(v!=="IMG"){h.filled=o!==W?true:false;o=m.color(o,h,s,r);s="fillcolor"}}else if(v==="shape"&&s==="rotation"){r[s]=o;h.style.left=-i(c(o*p)+1)+z;h.style.top=i(l(o*p))+z}else if(s==="translateX"||s==="translateY"||s==="rotation"){r[s]=o;r.updateTransform();E=true}else if(s==="text"){this.bBox=null;h.innerHTML=o;E=true}if(!E){if(g){h[s]=o}else{Pt(h,s,o)}}}}}return x},clip:function(e){var t=this,n,r=t.element,i=r.parentNode,s;if(e){n=e.members;_t(n,t);n.push(t);t.destroyClip=function(){_t(n,t)};if(i&&i.className==="highcharts-tracker"&&!g){jt(r,{visibility:q})}s=e.getCSS(t)}else{if(t.destroyClip){t.destroyClip()}s={clip:g?"inherit":"rect(auto)"}}return t.css(s)},css:Cn.prototype.htmlCss,safeRemoveChild:function(e){if(e.parentNode){Yt(e)}},destroy:function(){if(this.destroyClip){this.destroyClip()}return Cn.prototype.destroy.apply(this)},empty:function(){var e=this.element,t=e.childNodes,n=t.length,r;while(n--){r=t[n];r.parentNode.removeChild(r)}},on:function(e,t){this.element["on"+e]=function(){var e=n.event;e.target=e.srcElement;t(e)};return this},cutOffPath:function(e,t){var n;e=e.split(/[ ,]/);n=e.length;if(n===9||n===11){e[n-4]=e[n-2]=Nt(e[n-2])-10*t}return e.join(" ")},shadow:function(e,t,n){var r=[],i,s=this.element,o=this.renderer,u,a=s.style,f,l=s.path,c,h,p,d;if(l&&typeof l.value!=="string"){l="x"}h=l;if(e){p=Bt(e.width,3);d=(e.opacity||.15)/p;for(i=1;i<=3;i++){c=p*2+1-2*i;if(n){h=this.cutOffPath(l.value,c+.5)}f=['<shape isShadow="true" strokeweight="',c,'" filled="false" path="',h,'" coordsize="10 10" style="',s.style.cssText,'" />'];u=Ft(o.prepVML(f),null,{left:Nt(a.left)+Bt(e.offsetX,1),top:Nt(a.top)+Bt(e.offsetY,1)});if(n){u.cutOff=c+1}f=['<stroke color="',e.color||"black",'" opacity="',d*i,'"/>'];Ft(o.prepVML(f),null,null,u);if(t){t.element.appendChild(u)}else{s.parentNode.insertBefore(u,s)}r.push(u)}this.shadows=r}return this}};An=It(Cn,An);var On={Element:An,isIE8:d.indexOf("MSIE 8.0")>-1,init:function(e,n,r){var i=this,s,o;i.alignedObjects=[];s=i.createElement(j);o=s.element;o.style.position=I;e.appendChild(s.element);i.box=o;i.boxWrapper=s;i.setSize(n,r,false);if(!t.namespaces.hcv){t.namespaces.add("hcv","urn:schemas-microsoft-com:vml");t.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke"+"{ behavior:url(#default#VML); display: inline-block; } "}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,n,r){var s=this.createElement(),o=kt(e);return xt(s,{members:[],left:o?e.x:e,top:o?e.y:t,width:o?e.width:n,height:o?e.height:r,getCSS:function(e){var t=e.inverted,n=this,r=n.top,s=n.left,o=s+n.width,u=r+n.height,a={clip:"rect("+i(t?s:r)+"px,"+i(t?u:o)+"px,"+i(t?o:u)+"px,"+i(t?r:s)+"px)"};if(!t&&g&&e.element.nodeName!=="IMG"){xt(a,{width:o+z,height:u+z})}return a},updateClipping:function(){an(s.members,function(e){e.css(s.getCSS(e))})}})},color:function(e,t,n,i){var s=this,o,u=/^rgba/,a,f,l=W;if(e&&e.linearGradient){f="gradient"}else if(e&&e.radialGradient){f="pattern"}if(f){var c,p,d=e.linearGradient||e.radialGradient,v,m,g,y,b,w,E,S,x="",T=e.stops,N,C,k=[],L=function(){a=['<fill colors="'+k.join(",")+'" opacity="',w,'" o:opacity2="',b,'" type="',f,'" ',x,'focus="100%" method="any" />'];Ft(s.prepVML(a),null,null,t)};N=T[0];C=T[T.length-1];if(N[0]>0){T.unshift([0,N[1]])}if(C[0]<1){T.push([1,C[1]])}an(T,function(e,t){if(u.test(e[1])){o=Nn(e[1]);c=o.get("rgb");p=o.get("a")}else{c=e[1];p=1}k.push(e[0]*100+"% "+c);if(!t){b=p;S=c}else{w=p;E=c}});if(n==="fill"){if(f==="gradient"){v=d.x1||d[0]||0;m=d.y1||d[1]||0;g=d.x2||d[2]||0;y=d.y2||d[3]||0;x='angle="'+(90-r.atan((y-m)/(g-v))*180/h)+'"';L()}else{var A=d.r,M=A*2,_=A*2,D=d.cx,P=d.cy,H=t.radialReference,B,j=function(){if(H){B=i.getBBox();D+=(H[0]-B.x)/B.width-.5;P+=(H[1]-B.y)/B.height-.5;M*=H[2]/B.width;_*=H[2]/B.height}x='src="'+O.global.VMLRadialGradientURL+'" '+'size="'+M+","+_+'" '+'origin="0.5,0.5" '+'position="'+D+","+P+'" '+'color2="'+S+'" ';L()};if(i.added){j()}else{pn(i,"add",j)}l=E}}else{l=c}}else if(u.test(e)&&t.tagName!=="IMG"){o=Nn(e);a=["<",n,' opacity="',o.get("a"),'"/>'];Ft(this.prepVML(a),null,null,t);l=o.get("rgb")}else{var F=t.getElementsByTagName(n);if(F.length){F[0].opacity=1}l=e}return l},prepVML:function(e){var t="display:inline-block;behavior:url(#default#VML);",n=this.isIE8;e=e.join("");if(n){e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />');if(e.indexOf('style="')===-1){e=e.replace("/>",' style="'+t+'" />')}else{e=e.replace('style="','style="'+t)}}else{e=e.replace("<","<hcv:")}return e},text:kn.prototype.html,path:function(e){var t={coordsize:"10 10"};if(Lt(e)){t.d=e}else if(kt(e)){xt(t,e)}return this.createElement("shape").attr(t)},circle:function(e,t,n){return this.symbol("circle").attr({x:e-n,y:t-n,width:2*n,height:2*n})},g:function(e){var t,n;if(e){n={className:R+e,"class":R+e}}t=this.createElement(j).attr(n);return t},image:function(e,t,n,r,i){var s=this.createElement("img").attr({src:e});if(arguments.length>1){s.attr({x:t,y:n,width:r,height:i})}return s},rect:function(e,t,n,r,i,s){if(kt(e)){t=e.y;n=e.width;r=e.height;s=e.strokeWidth;e=e.x}var o=this.symbol("rect");o.r=i;return o.attr(o.crisp(s,e,t,u(n,0),u(r,0)))},invertChild:function(e,t){var n=t.style;jt(e,{flip:"x",left:Nt(n.width)-1,top:Nt(n.height)-1,rotation:-90})},symbols:{arc:function(e,t,n,r,i){var s=i.start,o=i.end,u=i.r||n||r,a=i.innerR,f=l(s),h=c(s),p=l(o),d=c(o),v;if(o-s===0){return["x"]}v=["wa",e-u,t-u,e+u,t+u,e+u*f,t+u*h,e+u*p,t+u*d];if(i.open&&!a){v.push("e",X,e,t)}v.push("at",e-a,t-a,e+a,t+a,e+a*p,t+a*d,e+a*f,t+a*h,"x","e");return v},circle:function(e,t,n,r){return["wa",e,t,e+n,t+r,e+n,t+r/2,e+n,t+r/2,"e"]},rect:function(e,t,n,r,i){var s=e+n,o=t+r,u,f;if(!Dt(i)||!i.r){u=kn.prototype.symbols.square.apply(0,arguments)}else{f=a(i.r,n,r);u=[X,e+f,t,V,s-f,t,"wa",s-2*f,t,s,t+2*f,s-f,t,s,t+f,V,s,o-f,"wa",s-2*f,o-2*f,s,o,s,o-f,s-f,o,V,e+f,o,"wa",e,o-2*f,e+2*f,o,e+f,o,e,o-f,V,e,t+f,"wa",e,t,e+2*f,t+2*f,e,t+f,e+f,t,"x","e"]}return u}}};Ln=function(){this.init.apply(this,arguments)};Ln.prototype=hn(kn.prototype,On);N=Ln}var Mn,_n;if(T){Mn=function(){E="http://www.w3.org/1999/xhtml"};Mn.prototype.symbols={};_n=function(){function t(){var t=e.length,n;for(n=0;n<t;n++){e[n]()}e=[]}var e=[];return{push:function(n,r){if(e.length===0){on(r,t)}e.push(n)}}}()}N=Ln||Mn||kn;Dn.prototype={addLabel:function(){var e=this,t=e.axis,n=t.options,r=t.chart,s=t.horiz,o=t.categories,a=e.pos,f=n.labels,l,c=t.tickPositions,h=o&&s&&o.length&&!f.step&&!f.staggerLines&&!f.rotation&&r.plotWidth/c.length||!s&&r.plotWidth/2,p=a===c[0],d=a===c[c.length-1],v,m,g=o&&Dt(o[a])?o[a]:a,y=e.label,b=c.info,w;if(t.isDatetimeAxis&&b){w=n.dateTimeLabelFormats[b.higherRanks[a]||b.unitName]}e.isFirst=p;e.isLast=d;l=t.labelFormatter.call({axis:t,chart:r,isFirst:p,isLast:d,dateTimeLabelFormat:w,value:t.isLog?en(Mt(g)):g});v=h&&{width:u(1,i(h-2*(f.padding||10)))+z};v=xt(v,f.style);if(!Dt(y)){m={align:f.align};if(At(f.rotation)){m.rotation=f.rotation}e.label=Dt(l)&&f.enabled?r.renderer.text(l,0,0,f.useHTML).attr(m).css(v).add(t.labelGroup):null}else if(y){y.attr({text:l}).css(v)}},getLabelSize:function(){var e=this.label,t=this.axis;return e?(this.labelBBox=e.getBBox())[t.horiz?"height":"width"]:0},getLabelSides:function(){var e=this.labelBBox,t=this.axis,n=t.options,r=n.labels,i=e.width,s=i*{left:0,center:.5,right:1}[r.align]-r.x;return[-s,i-s]},handleOverflow:function(e,t){var n=true,r=this.axis,i=r.chart,s=this.isFirst,o=this.isLast,u=t.x,a=r.reversed,f=r.tickPositions;if(s||o){var l=this.getLabelSides(),c=l[0],h=l[1],p=i.plotLeft,d=p+r.len,v=r.ticks[f[e+(s?1:-1)]],m=v&&v.label.xy&&v.label.xy.x+v.getLabelSides()[s?0:1];if(s&&!a||o&&a){if(u+c<p){u=p-c;if(v&&u+h>m){n=false}}}else{if(u+h>d){u=d-h;if(v&&u+c<m){n=false}}}t.x=u}return n},getPosition:function(e,t,n,r){var i=this.axis,s=i.chart,o=r&&s.oldChartHeight||s.chartHeight;return{x:e?i.translate(t+n,null,null,r)+i.transB:i.left+i.offset+(i.opposite?(r&&s.oldChartWidth||s.chartWidth)-i.right-i.left:0),y:e?o-i.bottom+i.offset-(i.opposite?i.height:0):o-i.translate(t+n,null,null,r)-i.transB}},getLabelPosition:function(e,t,n,r,i,s,o,u){var a=this.axis,f=a.transA,l=a.reversed,c=a.staggerLines;e=e+i.x-(s&&r?s*f*(l?-1:1):0);t=t+i.y-(s&&!r?s*f*(l?1:-1):0);if(!Dt(i.y)){t+=Nt(n.styles.lineHeight)*.9-n.getBBox().height/2}if(c){t+=o/(u||1)%c*16}return{x:e,y:t}},getMarkPath:function(e,t,n,r,i,s){return s.crispLine([X,e,t,V,e+(i?0:-n),t+(i?n:0)],r)},render:function(t,n){var r=this,i=r.axis,s=i.options,o=i.chart,u=o.renderer,a=i.horiz,f=r.type,l=r.label,c=r.pos,h=s.labels,p=r.gridLine,d=f?f+"Grid":"grid",v=f?f+"Tick":"tick",m=s[d+"LineWidth"],g=s[d+"LineColor"],y=s[d+"LineDashStyle"],b=s[v+"Length"],w=s[v+"Width"]||0,E=s[v+"Color"],S=s[v+"Position"],x,T=r.mark,N,C=h.step,k,L=true,A=i.tickmarkOffset,O=r.getPosition(a,c,A,n),M=O.x,_=O.y,D=i.staggerLines;if(m){x=i.getPlotLinePath(c+A,m,n);if(p===e){k={stroke:g,"stroke-width":m};if(y){k.dashstyle=y}if(!f){k.zIndex=1}r.gridLine=p=m?u.path(x).attr(k).add(i.gridGroup):null}if(!n&&p&&x){p[r.isNew?"attr":"animate"]({d:x})}}if(w&&b){if(S==="inside"){b=-b}if(i.opposite){b=-b}N=r.getMarkPath(M,_,b,w,a,u);if(T){T.animate({d:N})}else{r.mark=u.path(N).attr({stroke:E,"stroke-width":w}).add(i.axisGroup)}}if(l&&!isNaN(M)){l.xy=O=r.getLabelPosition(M,_,l,a,h,A,t,C);if(r.isFirst&&!Bt(s.showFirstLabel,1)||r.isLast&&!Bt(s.showLastLabel,1)){L=false}else if(!D&&a&&h.overflow==="justify"&&!r.handleOverflow(t,O)){L=false}if(C&&t%C){L=false}if(L){l[r.isNew?"attr":"animate"](O);r.isNew=false}else{l.attr("y",-9999)}}},destroy:function(){Gt(this,this.axis)}};Pn.prototype={render:function(){var e=this,t=e.axis,n=t.horiz,r=(t.pointRange||0)/2,i=e.options,s=i.label,o=e.label,f=i.width,l=i.to,c=i.from,h=Dt(c)&&Dt(l),p=i.value,d=i.dashStyle,v=e.svgElem,m=[],g,y,b,w,E,S,x=i.color,T=i.zIndex,N=i.events,C,k=t.chart.renderer;if(t.isLog){c=Ot(c);l=Ot(l);p=Ot(p)}if(f){m=t.getPlotLinePath(p,f);C={stroke:x,"stroke-width":f};if(d){C.dashstyle=d}}else if(h){c=u(c,t.min-r);l=a(l,t.max+r);m=t.getPlotBandPath(c,l,i);C={fill:x};if(i.borderWidth){C.stroke=i.borderColor;C["stroke-width"]=i.borderWidth}}else{return}if(Dt(T)){C.zIndex=T}if(v){if(m){v.animate({d:m},null,v.onGetPath)}else{v.hide();v.onGetPath=function(){v.show()}}}else if(m&&m.length){e.svgElem=v=k.path(m).attr(C).add();if(N){g=function(t){v.on(t,function(n){N[t].apply(e,[n])})};for(y in N){g(y)}}}if(s&&Dt(s.text)&&m&&m.length&&t.width>0&&t.height>0){s=hn({align:n&&h&&"center",x:n?!h&&4:10,verticalAlign:!n&&h&&"middle",y:n?h?16:10:h?6:-4,rotation:n&&!h&&90},s);if(!o){e.label=o=k.text(s.text,0,0).attr({align:s.textAlign||s.align,rotation:s.rotation,zIndex:T}).css(s.style).add()}b=[m[1],m[4],Bt(m[6],m[1])];w=[m[2],m[5],Bt(m[7],m[2])];E=Kt(b);S=Kt(w);o.align(s,false,{x:E,y:S,width:Qt(b)-E,height:Qt(w)-S});o.show()}else if(o){o.hide()}return e},destroy:function(){var e=this,t=e.axis;_t(t.plotLinesAndBands,e);Gt(e,this.axis)}};Hn.prototype={destroy:function(){Gt(this,this.axis)},setTotal:function(e){this.total=e;this.cum=e},render:function(e){var t=this.options.formatter.call(this);if(this.label){this.label.attr({text:t,visibility:q})}else{this.label=this.axis.chart.renderer.text(t,0,0).css(this.options.style).attr({align:this.textAlign,rotation:this.options.rotation,visibility:q}).add(e)}},setOffset:function(e,t){var n=this,r=n.axis,i=r.chart,s=i.inverted,o=this.isNegative,u=r.translate(this.percent?100:this.total,0,0,0,1),a=r.translate(0),l=f(u-a),c=i.xAxis[0].translate(this.x)+e,h=i.plotHeight,p={x:s?o?u:u-l:c,y:s?h-c-t:o?h-u-l:h-u,width:s?l:t,height:s?t:l},d=this.label,v;if(d){d.align(this.alignOptions,null,p);v=d.alignAttr;d.attr({visibility:this.options.crop===false||i.isInsidePlot(v.x,v.y)?S?"inherit":U:q})}}};Bn.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:false,gridLineColor:"#C0C0C0",labels:bn,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:false,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:true,gridLineWidth:1,tickPixelInterval:72,showLastLabel:true,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:true,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:false,formatter:function(){return this.total},style:bn.style}},defaultLeftAxisOptions:{labels:{align:"right",x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{align:"left",x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{align:"center",x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{align:"center",x:0,y:-5},title:{rotation:0}},init:function(t,n){var r=n.isX,i=this;i.horiz=t.inverted?!r:r;i.isXAxis=r;i.xOrY=r?"x":"y";i.opposite=n.opposite;i.side=i.horiz?i.opposite?0:2:i.opposite?1:3;i.setOptions(n);var s=this.options,o=s.type,u=o==="datetime";i.labelFormatter=s.labels.formatter||i.defaultLabelFormatter;i.staggerLines=i.horiz&&s.labels.staggerLines;i.userOptions=n;i.minPixelPadding=0;i.chart=t;i.reversed=s.reversed;i.categories=s.categories;i.isLog=o==="logarithmic";i.isLinked=Dt(s.linkedTo);i.isDatetimeAxis=u;i.tickmarkOffset=s.categories&&s.tickmarkPlacement==="between"?.5:0;i.ticks={};i.minorTicks={};i.plotLinesAndBands=[];i.alternateBands={};i.len=0;i.minRange=i.userMinRange=s.minRange||s.maxZoom;i.range=s.range;i.offset=s.offset||0;i.stacks={};i._stacksTouched=0;i.max=null;i.min=null;var a,f=i.options.events;t.axes.push(i);t[r?"xAxis":"yAxis"].push(i);i.series=[];if(t.inverted&&r&&i.reversed===e){i.reversed=true}i.removePlotBand=i.removePlotBandOrLine;i.removePlotLine=i.removePlotBandOrLine;i.addPlotBand=i.addPlotBandOrLine;i.addPlotLine=i.addPlotBandOrLine;for(a in f){pn(i,a,f[a])}if(i.isLog){i.val2lin=Ot;i.lin2val=Mt}},setOptions:function(e){this.options=hn(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],hn(O[this.isXAxis?"xAxis":"yAxis"],e))},defaultLabelFormatter:function(){var t=this.axis,n=this.value,r=t.categories,i=this.dateTimeLabelFormat,s=O.lang.numericSymbols,o=s&&s.length,u,a,f=t.isLog?n:t.tickInterval;if(r){a=n}else if(i){a=M(i,n)}else if(o&&f>=1e3){while(o--&&a===e){u=Math.pow(1e3,o+1);if(f>=u&&s[o]!==null){a=Rt(n/u,-1)+s[o]}}}if(a===e){if(n>=1e3){a=Rt(n,0)}else{a=Rt(n,-1)}}return a},getSeriesExtremes:function(){var t=this,n=t.chart,r=t.stacks,i=[],s=[],o=t._stacksTouched=t._stacksTouched+1,f,l;t.hasVisibleSeries=false;t.dataMin=t.dataMax=null;an(t.series,function(f){if(f.visible||!n.options.chart.ignoreHiddenSeries){var c=f.options,h,p,d,v,m,g,y,b,w,E,S=c.threshold,x,T=[],N=0;t.hasVisibleSeries=true;if(t.isLog&&S<=0){S=c.threshold=null}if(t.isXAxis){y=f.xData;if(y.length){t.dataMin=a(Bt(t.dataMin,y[0]),Kt(y));t.dataMax=u(Bt(t.dataMax,y[0]),Qt(y))}}else{var C,k,L,A=f.cropped,O=f.xAxis.getExtremes(),M,_=!!f.modifyValue;h=c.stacking;t.usePercentage=h==="percent";if(h){m=c.stack;v=f.type+Bt(m,"");g="-"+v;f.stackKey=v;p=i[v]||[];i[v]=p;d=s[g]||[];s[g]=d}if(t.usePercentage){t.dataMin=0;t.dataMax=99}y=f.processedXData;b=f.processedYData;x=b.length;for(l=0;l<x;l++){w=y[l];E=b[l];if(h){C=E<S;k=C?d:p;L=C?g:v;if(Dt(k[w])){k[w]=en(k[w]+E);E=[E,k[w]]}else{k[w]=E}if(!r[L]){r[L]={}}if(!r[L][w]){r[L][w]=new Hn(t,t.options.stackLabels,C,w,m,h)}r[L][w].setTotal(k[w]);r[L][w].touched=o}if(E!==null&&E!==e){if(_){E=f.modifyValue(E)}if(A||(y[l+1]||w)>=O.min&&(y[l-1]||w)<=O.max){M=E.length;if(M){while(M--){if(E[M]!==null){T[N++]=E[M]}}}else{T[N++]=E}}}}if(!t.usePercentage&&T.length){t.dataMin=a(Bt(t.dataMin,T[0]),Kt(T));t.dataMax=u(Bt(t.dataMax,T[0]),Qt(T))}if(Dt(S)){if(t.dataMin>=S){t.dataMin=S;t.ignoreMinPadding=true}else if(t.dataMax<S){t.dataMax=S;t.ignoreMaxPadding=true}}}}});for(f in r){for(l in r[f]){if(r[f][l].touched<o){r[f][l].destroy();delete r[f][l]}}}},translate:function(e,t,n,r,i,s){var o=this,u=o.len,a=1,f=0,l=r?o.oldTransA:o.transA,c=r?o.oldMin:o.min,h,p=o.options.ordinal||o.isLog&&i;if(!l){l=o.transA}if(n){a*=-1;f=u}if(o.reversed){a*=-1;f-=a*u}if(t){if(o.reversed){e=u-e}h=e/l+c;if(p){h=o.lin2val(h)}}else{if(p){e=o.val2lin(e)}h=a*(e-c)*l+f+a*o.minPixelPadding+(s?l*o.pointRange/2:0)}return h},getPlotLinePath:function(e,t,n){var r=this,s=r.chart,o=r.left,u=r.top,a,f,l,c,h=r.translate(e,null,null,n),p=n&&s.oldChartHeight||s.chartHeight,d=n&&s.oldChartWidth||s.chartWidth,v,m=r.transB;a=l=i(h+m);f=c=i(p-h-m);if(isNaN(h)){v=true}else if(r.horiz){f=u;c=p-r.bottom;if(a<o||a>o+r.width){v=true}}else{a=o;l=d-r.right;if(f<u||f>u+r.height){v=true}}return v?null:s.renderer.crispLine([X,a,f,V,l,c],t||0)},getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t),r=this.getPlotLinePath(e);if(r&&n){r.push(n[4],n[5],n[1],n[2])}else{r=null}return r},getLinearTickPositions:function(e,t,n){var r,i,u=en(s(t/e)*e),a=en(o(n/e)*e),f=[];r=u;while(r<=a){f.push(r);r=en(r+e);if(r===i){break}i=r}return f},getLogTickPositions:function(e,t,n,o){var u=this,a=u.options,f=u.len;var l=[];if(!o){u._minorAutoInterval=null}if(e>=.5){e=i(e);l=u.getLinearTickPositions(e,t,n)}else if(e>=.08){var c=s(t),h,p,d,v,m,g,y;if(e>.3){h=[1,2,4]}else if(e>.15){h=[1,2,4,6,8]}else{h=[1,2,3,4,5,6,7,8,9]}for(p=c;p<n+1&&!y;p++){v=h.length;for(d=0;d<v&&!y;d++){m=Ot(Mt(p)*h[d]);if(m>t){l.push(g)}if(g>n){y=true}g=m}}}else{var b=Mt(t),w=Mt(n),E=a[o?"minorTickInterval":"tickInterval"],S=E==="auto"?null:E,x=a.tickPixelInterval/(o?5:1),T=o?f/u.tickPositions.length:f;e=Bt(S,u._minorAutoInterval,(w-b)*x/(T||1));e=Wt(e,null,r.pow(10,s(r.log(e)/r.LN10)));l=cn(u.getLinearTickPositions(e,b,w),Ot);if(!o){u._minorAutoInterval=e/5}}if(!o){u.tickInterval=e}return l},getMinorTickPositions:function(){var e=this,t=e.options,n=e.tickPositions,r=e.minorTickInterval;var i=[],s,o,u;if(e.isLog){u=n.length;for(o=1;o<u;o++){i=i.concat(e.getLogTickPositions(r,n[o-1],n[o],true))}}else if(e.isDatetimeAxis&&t.minorTickInterval==="auto"){i=i.concat(Vt(Xt(r),e.min,e.max,t.startOfWeek))}else{for(s=e.min+(n[0]-e.min)%r;s<=e.max;s+=r){i.push(s)}}return i},adjustForMinRange:function(){var t=this,n=t.options,r=t.min,i=t.max,s,o=t.dataMax-t.dataMin>=t.minRange,u,f,l,c,h,p,d;if(t.isXAxis&&t.minRange===e&&!t.isLog){if(Dt(n.min)||Dt(n.max)){t.minRange=null}else{an(t.series,function(t){c=t.xData;h=t.xIncrement?1:c.length-1;for(f=h;f>0;f--){l=c[f]-c[f-1];if(u===e||l<u){u=l}}});t.minRange=a(u*5,t.dataMax-t.dataMin)}}if(i-r<t.minRange){var v=t.minRange;s=(v-i+r)/2;p=[r-s,Bt(n.min,r-s)];if(o){p[2]=t.dataMin}r=Qt(p);d=[r+v,Bt(n.max,r+v)];if(o){d[2]=t.dataMax}i=Kt(d);if(i-r<v){p[0]=i-v;p[1]=Bt(n.min,i-v);r=Qt(p)}}t.min=r;t.max=i},setAxisTranslation:function(){var e=this,t=e.max-e.min,n=0,r,i=0,s=0,o=e.linkedParent,f=e.transA;if(e.isXAxis){if(o){i=o.minPointOffset;s=o.pointRangePadding}else{an(e.series,function(e){var o=e.pointRange,f=e.options.pointPlacement,l=e.closestPointRange;if(o>t){o=0}n=u(n,o);i=u(i,f?0:o/2);s=u(s,f==="on"?0:o);if(!e.noSharedTooltip&&Dt(l)){r=Dt(r)?a(r,l):l}})}e.minPointOffset=i;e.pointRangePadding=s;e.pointRange=a(n,t);e.closestPointRange=r}e.oldTransA=f;e.translationSlope=e.transA=f=e.len/(t+s||1);e.transB=e.horiz?e.left:e.bottom;e.minPixelPadding=f*i},setTickPositions:function(e){var t=this,n=t.chart,i=t.options,o=t.isLog,f=t.isDatetimeAxis,l=t.isXAxis,c=t.isLinked,h=t.options.tickPositioner,p,d=i.maxPadding,v=i.minPadding,m,g,y=i.tickInterval,b=i.minTickInterval,w=i.tickPixelInterval,E,S=t.categories;if(c){t.linkedParent=n[l?"xAxis":"yAxis"][i.linkedTo];g=t.linkedParent.getExtremes();t.min=Bt(g.min,g.dataMin);t.max=Bt(g.max,g.dataMax);if(i.type!==t.linkedParent.options.type){Zt(11,1)}}else{t.min=Bt(t.userMin,i.min,t.dataMin);t.max=Bt(t.userMax,i.max,t.dataMax)}if(o){if(!e&&a(t.min,Bt(t.dataMin,t.min))<=0){Zt(10,1)}t.min=en(Ot(t.min));t.max=en(Ot(t.max))}if(t.range){t.userMin=t.min=u(t.min,t.max-t.range);t.userMax=t.max;if(e){t.range=null}}t.adjustForMinRange();if(!S&&!t.usePercentage&&!c&&Dt(t.min)&&Dt(t.max)){m=t.max-t.min;if(m){if(!Dt(i.min)&&!Dt(t.userMin)&&v&&(t.dataMin<0||!t.ignoreMinPadding)){t.min-=m*v}if(!Dt(i.max)&&!Dt(t.userMax)&&d&&(t.dataMax>0||!t.ignoreMaxPadding)){t.max+=m*d}}}if(t.min===t.max||t.min===undefined||t.max===undefined){t.tickInterval=1}else if(c&&!y&&w===t.linkedParent.options.tickPixelInterval){t.tickInterval=t.linkedParent.tickInterval}else{t.tickInterval=Bt(y,S?1:(t.max-t.min)*w/(t.len||1))}if(l&&!e){an(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)})}t.setAxisTranslation(e);if(t.beforeSetTickPositions){t.beforeSetTickPositions()}if(t.postProcessTickInterval){t.tickInterval=t.postProcessTickInterval(t.tickInterval)}if(!y&&t.tickInterval<b){t.tickInterval=b}if(!f&&!o){p=r.pow(10,s(r.log(t.tickInterval)/r.LN10));if(!y){t.tickInterval=Wt(t.tickInterval,null,p,i)}}t.minorTickInterval=i.minorTickInterval==="auto"&&t.tickInterval?t.tickInterval/5:i.minorTickInterval;t.tickPositions=E=i.tickPositions||h&&h.apply(t,[t.min,t.max]);if(!E){if(f){E=(t.getNonLinearTimeTicks||Vt)(Xt(t.tickInterval,i.units),t.min,t.max,i.startOfWeek,t.ordinalPositions,t.closestPointRange,true)}else if(o){E=t.getLogTickPositions(t.tickInterval,t.min,t.max)}else{E=t.getLinearTickPositions(t.tickInterval,t.min,t.max)}t.tickPositions=E}if(!c){var x=E[0],T=E[E.length-1],N=t.minPointOffset||0,C;if(i.startOnTick){t.min=x}else if(t.min-N>x){E.shift()}if(i.endOnTick){t.max=T}else if(t.max+N<T){E.pop()}if(E.length===1){C=1e-9;t.min-=C;t.max+=C}}},setMaxTicks:function(){var e=this.chart,t=e.maxTicks,n=this.tickPositions,r=this.xOrY;if(!t){t={x:0,y:0}}if(!this.isLinked&&!this.isDatetimeAxis&&n.length>t[r]&&this.options.alignTicks!==false){t[r]=n.length}e.maxTicks=t},adjustTickAmount:function(){var e=this,t=e.chart,n=e.xOrY,r=e.tickPositions,i=t.maxTicks;if(i&&i[n]&&!e.isDatetimeAxis&&!e.categories&&!e.isLinked&&e.options.alignTicks!==false){var s=e.tickAmount,o=r.length,u;e.tickAmount=u=i[n];if(o<u){while(r.length<u){r.push(en(r[r.length-1]+e.tickInterval))}e.transA*=(o-1)/(u-1);e.max=r[r.length-1]}if(Dt(s)&&u!==s){e.isDirty=true}}},setScale:function(){var e=this,t=e.stacks,n,r,i,s;e.oldMin=e.min;e.oldMax=e.max;e.oldAxisLength=e.len;e.setAxisSize();s=e.len!==e.oldAxisLength;an(e.series,function(e){if(e.isDirtyData||e.isDirty||e.xAxis.isDirty){i=true}});if(s||i||e.isLinked||e.userMin!==e.oldUserMin||e.userMax!==e.oldUserMax){e.getSeriesExtremes();e.setTickPositions();e.oldUserMin=e.userMin;e.oldUserMax=e.userMax;if(!e.isDirty){e.isDirty=s||e.min!==e.oldMin||e.max!==e.oldMax}}if(!e.isXAxis){for(n in t){for(r in t[n]){t[n][r].cum=t[n][r].total}}}e.setMaxTicks()},setExtremes:function(e,t,n,r,i){var s=this,o=s.chart;n=Bt(n,true);i=xt(i,{min:e,max:t});vn(s,"setExtremes",i,function(){s.userMin=e;s.userMax=t;s.isDirtyExtremes=true;if(n){o.redraw(r)}})},zoom:function(t,n){this.setExtremes(t,n,false,e,{trigger:"zoom"});return true},setAxisSize:function(){var e=this,t=e.chart,n=e.options;var r=n.offsetLeft||0,i=n.offsetRight||0;e.left=Bt(n.left,t.plotLeft+r);e.top=Bt(n.top,t.plotTop);e.width=Bt(n.width,t.plotWidth-r+i);e.height=Bt(n.height,t.plotHeight);e.bottom=t.chartHeight-e.height-e.top;e.right=t.chartWidth-e.width-e.left;e.len=u(e.horiz?e.width:e.height,0)},getExtremes:function(){var e=this,t=e.isLog;return{min:t?en(Mt(e.min)):e.min,max:t?en(Mt(e.max)):e.max,dataMin:e.dataMin,dataMax:e.dataMax,userMin:e.userMin,userMax:e.userMax}},getThreshold:function(e){var t=this,n=t.isLog;var r=n?Mt(t.min):t.min,i=n?Mt(t.max):t.max;if(r>e||e===null){e=r}else if(i<e){e=i}return t.translate(e,0,1,0,1)},addPlotBandOrLine:function(e){var t=(new Pn(this,e)).render();this.plotLinesAndBands.push(t);return t},getOffset:function(){var e=this,t=e.chart,n=t.renderer,r=e.options,i=e.tickPositions,s=e.ticks,o=e.horiz,a=e.side,f,l,c=0,h,p=0,d=r.title,v=r.labels,m=0,g=t.axisOffset,y=[-1,1,1,-1][a],b;e.hasData=f=e.hasVisibleSeries||Dt(e.min)&&Dt(e.max)&&!!i;e.showAxis=l=f||Bt(r.showEmpty,true);if(!e.axisGroup){e.gridGroup=n.g("grid").attr({zIndex:r.gridZIndex||1}).add();e.axisGroup=n.g("axis").attr({zIndex:r.zIndex||2}).add();e.labelGroup=n.g("axis-labels").attr({zIndex:v.zIndex||7}).add()}if(f||e.isLinked){an(i,function(t){if(!s[t]){s[t]=new Dn(e,t)}else{s[t].addLabel()}});an(i,function(e){if(a===0||a===2||{1:"left",3:"right"}[a]===v.align){m=u(s[e].getLabelSize(),m)}});if(e.staggerLines){m+=(e.staggerLines-1)*16}}else{for(b in s){s[b].destroy();delete s[b]}}if(d&&d.text){if(!e.axisTitle){e.axisTitle=n.text(d.text,0,0,d.useHTML).attr({zIndex:7,rotation:d.rotation||0,align:d.textAlign||{low:"left",middle:"center",high:"right"}[d.align]}).css(d.style).add(e.axisGroup);e.axisTitle.isNew=true}if(l){c=e.axisTitle.getBBox()[o?"height":"width"];p=Bt(d.margin,o?5:10);h=d.offset}e.axisTitle[l?"show":"hide"]()}e.offset=y*Bt(r.offset,g[a]);e.axisTitleMargin=Bt(h,m+p+(a!==2&&m&&y*r.labels[o?"y":"x"]));g[a]=u(g[a],e.axisTitleMargin+c+y*e.offset)},getLinePath:function(e){var t=this.chart,n=this.opposite,r=this.offset,i=this.horiz,s=this.left+(n?this.width:0)+r,o=t.chartHeight-this.bottom-(n?this.height:0)+r;this.lineTop=o;return t.renderer.crispLine([X,i?this.left:s,i?o:this.top,V,i?t.chartWidth-this.right:s,i?o:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,n=this.top,r=this.len,i=this.options.title,s=e?t:n,o=this.opposite,u=this.offset,a=Nt(i.style.fontSize||12),f={low:s+(e?0:r),middle:s+r/2,high:s+(e?r:0)}[i.align],l=(e?n+this.height:t)+(e?1:-1)*(o?-1:1)*this.axisTitleMargin+(this.side===2?a:0);return{x:e?f:l+(o?this.width:0)+u+(i.x||0),y:e?l-(o?this.height:0)+u:f+(i.y||0)}},render:function(){var t=this,n=t.chart,r=n.renderer,i=t.options,s=t.isLog,o=t.isLinked,u=t.tickPositions,a=t.axisTitle,f=t.stacks,l=t.ticks,c=t.minorTicks,h=t.alternateBands,p=i.stackLabels,d=i.alternateGridColor,v=t.tickmarkOffset,m=i.lineWidth,g,y=n.hasRendered,b=y&&Dt(t.oldMin)&&!isNaN(t.oldMin),w=t.hasData,E=t.showAxis,S,x;if(w||o){if(t.minorTickInterval&&!t.categories){an(t.getMinorTickPositions(),function(e){if(!c[e]){c[e]=new Dn(t,e,"minor")}if(b&&c[e].isNew){c[e].render(null,true)}c[e].isActive=true;c[e].render()})}if(u.length){an(u.slice(1).concat([u[0]]),function(e,n){n=n===u.length-1?0:n+1;if(!o||e>=t.min&&e<=t.max){if(!l[e]){l[e]=new Dn(t,e)}if(b&&l[e].isNew){l[e].render(n,true)}l[e].isActive=true;l[e].render(n)}})}if(d){an(u,function(n,r){if(r%2===0&&n<t.max){if(!h[n]){h[n]=new Pn(t)}S=n+v;x=u[r+1]!==e?u[r+1]+v:t.max;h[n].options={from:s?Mt(S):S,to:s?Mt(x):x,color:d};h[n].render();h[n].isActive=true}})}if(!t._addedPlotLB){an((i.plotLines||[]).concat(i.plotBands||[]),function(e){t.addPlotBandOrLine(e)});t._addedPlotLB=true}}an([l,c,h],function(e){var t;for(t in e){if(!e[t].isActive){e[t].destroy();delete e[t]}else{e[t].isActive=false}}});if(m){g=t.getLinePath(m);if(!t.axisLine){t.axisLine=r.path(g).attr({stroke:i.lineColor,"stroke-width":m,zIndex:7}).add(t.axisGroup)}else{t.axisLine.animate({d:g})}t.axisLine[E?"show":"hide"]()}if(a&&E){a[a.isNew?"attr":"animate"](t.getTitlePosition());a.isNew=false}if(p&&p.enabled){var T,N,C,k=t.stackTotalGroup;if(!k){t.stackTotalGroup=k=r.g("stack-labels").attr({visibility:U,zIndex:6}).add()}k.translate(n.plotLeft,n.plotTop);for(T in f){N=f[T];for(C in N){N[C].render(k)}}}t.isDirty=false},removePlotBandOrLine:function(e){var t=this.plotLinesAndBands,n=t.length;while(n--){if(t[n].id===e){t[n].destroy()}}},setTitle:function(e,t){var n=this.chart,r=this.options,i=this.axisTitle;r.title=hn(r.title,e);this.axisTitle=i&&i.destroy();this.isDirty=true;if(Bt(t,true)){n.redraw()}},redraw:function(){var e=this,t=e.chart;if(t.tracker.resetTracker){t.tracker.resetTracker(true)}e.render();an(e.plotLinesAndBands,function(e){e.render()});an(e.series,function(e){e.isDirty=true})},setCategories:function(e,t){var n=this,r=n.chart;n.categories=n.userOptions.categories=e;an(n.series,function(e){e.translate();e.setTooltipPoints(true)});n.isDirty=true;if(Bt(t,true)){r.redraw()}},destroy:function(){var e=this,t=e.stacks,n;dn(e);for(n in t){Gt(t[n]);t[n]=null}an([e.ticks,e.minorTicks,e.alternateBands,e.plotLinesAndBands],function(e){Gt(e)});an(["stackTotalGroup","axisLine","axisGroup","gridGroup","labelGroup","axisTitle"],function(t){if(e[t]){e[t]=e[t].destroy()}})}};jn.prototype={destroy:function(){an(this.crosshairs,function(e){if(e){e.destroy()}});if(this.label){this.label=this.label.destroy()}},move:function(e,t,n,r){var i=this,s=i.now,o=i.options.animation!==false&&!i.isHidden;xt(s,{x:o?(2*s.x+e)/3:e,y:o?(s.y+t)/2:t,anchorX:o?(2*s.anchorX+n)/3:n,anchorY:o?(s.anchorY+r)/2:r});i.label.attr(s);if(o&&(f(e-s.x)>1||f(t-s.y)>1)){clearTimeout(this.tooltipTimeout);this.tooltipTimeout=setTimeout(function(){if(i){i.move(e,t,n,r)}},32)}},hide:function(){if(!this.isHidden){var e=this.chart.hoverPoints;this.label.hide();if(e){an(e,function(e){e.setState()})}this.chart.hoverPoints=null;this.isHidden=true}},hideCrosshairs:function(){an(this.crosshairs,function(e){if(e){e.hide()}})},getAnchor:function(e,t){var n,r=this.chart,s=r.inverted,o=0,u=0,a;e=Ht(e);n=e[0].tooltipPos;if(!n){an(e,function(e){a=e.series.yAxis;o+=e.plotX;u+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!s&&a?a.top-r.plotTop:0)});o/=e.length;u/=e.length;n=[s?r.plotWidth-u:o,this.shared&&!s&&e.length>1&&t?t.chartY-r.plotTop:s?r.plotHeight-o:u]}return cn(n,i)},getPosition:function(e,t,n){var r=this.chart,i=r.plotLeft,s=r.plotTop,o=r.plotWidth,a=r.plotHeight,f=Bt(this.options.distance,12),l=n.plotX,c=n.plotY,h=l+i+(r.inverted?f:-e-f),p=c-t+s+15,d;if(h<7){h=i+u(l,0)+f}if(h+e>i+o){h-=h+e-(i+o);p=c-t+s-f;d=true}if(p<s+5){p=s+5;if(d&&c>=p&&c<=p+t){p=c+s+f}}if(p+t>s+a){p=u(s,s+a-t-f)}return{x:h,y:p}},refresh:function(e,t){function u(){var e=this,t=e.points||Ht(e),n=t[0].series,r;r=[n.tooltipHeaderFormatter(t[0].key)];an(t,function(e){n=e.series;r.push(n.tooltipFormatter&&n.tooltipFormatter(e)||e.point.tooltipFormatter(n.tooltipOptions.pointFormat))});r.push(o.footerFormat||"");return r.join("")}var n=this,r=n.chart,s=n.label,o=n.options;var a,f,l,c,h={},p,d=[],v=o.formatter||u,m=r.hoverPoints,g,y,b=o.crosshairs,w=n.shared,E;c=n.getAnchor(e,t);a=c[0];f=c[1];if(w&&!(e.series&&e.series.noSharedTooltip)){r.hoverPoints=e;if(m){an(m,function(e){e.setState()})}an(e,function(e){e.setState(K);d.push(e.getLabelConfig())});h={x:e[0].category,y:e[0].y};h.points=d;e=e[0]}else{h=e.getLabelConfig()}p=v.call(h);E=e.series;l=w||!E.isCartesian||E.tooltipOutsidePlot||r.isInsidePlot(a,f);if(p===false||!l){this.hide()}else{if(n.isHidden){s.show()}s.attr({text:p});y=o.borderColor||e.color||E.color||"#606060";s.attr({stroke:y});g=(o.positioner||n.getPosition).call(n,s.width,s.height,{plotX:a,plotY:f});n.move(i(g.x),i(g.y),a+r.plotLeft,f+r.plotTop);n.isHidden=false}if(b){b=Ht(b);var S,x=b.length,T,N;while(x--){N=e.series[x?"yAxis":"xAxis"];if(b[x]&&N){S=N.getPlotLinePath(x?Bt(e.stackY,e.y):e.x,1);if(n.crosshairs[x]){n.crosshairs[x].attr({d:S,visibility:U})}else{T={"stroke-width":b[x].width||1,stroke:b[x].color||"#C0C0C0",zIndex:b[x].zIndex||2};if(b[x].dashStyle){T.dashstyle=b[x].dashStyle}n.crosshairs[x]=r.renderer.path(S).attr(T).add()}}}}vn(r,"tooltipRefresh",{text:p,x:a+r.plotLeft,y:f+r.plotTop,borderColor:y})}};Fn.prototype={normalizeMouseEvent:function(t){var r,s,o,u;t=t||n.event;if(!t.target){t.target=t.srcElement}t=mn(t);u=t.touches?t.touches.item(0):t;this.chartPosition=r=ln(this.chart.container);if(u.pageX===e){s=t.x;o=t.y}else{s=u.pageX-r.left;o=u.pageY-r.top}return xt(t,{chartX:i(s),chartY:i(o)})},getMouseCoordinates:function(e){var t={xAxis:[],yAxis:[]},n=this.chart;an(n.axes,function(r){var i=r.isXAxis,s=n.inverted?!i:i;t[i?"xAxis":"yAxis"].push({axis:r,value:r.translate((s?e.chartX-n.plotLeft:r.top+r.len-e.chartY)-r.minPixelPadding,true)})});return t},getIndex:function(e){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-e.chartY:e.chartX-t.plotLeft},onmousemove:function(e){var t=this,n=t.chart,r=n.series,i=n.tooltip,s,o,u=n.hoverPoint,l=n.hoverSeries,c,h,p=n.chartWidth,d=t.getIndex(e);if(i&&t.options.tooltip.shared&&!(l&&l.noSharedTooltip)){o=[];c=r.length;for(h=0;h<c;h++){if(r[h].visible&&r[h].options.enableMouseTracking!==false&&!r[h].noSharedTooltip&&r[h].tooltipPoints&&r[h].tooltipPoints.length){s=r[h].tooltipPoints[d];s._dist=f(d-s[r[h].xAxis.tooltipPosName||"plotX"]);p=a(p,s._dist);o.push(s)}}c=o.length;while(c--){if(o[c]._dist>p){o.splice(c,1)}}if(o.length&&o[0].plotX!==t.hoverX){i.refresh(o,e);t.hoverX=o[0].plotX}}if(l&&l.tracker){s=l.tooltipPoints[d];if(s&&s!==u){s.onMouseOver()}}},resetTracker:function(t){var n=this,r=n.chart,i=r.hoverSeries,s=r.hoverPoint,o=r.tooltip,u=o&&o.shared?r.hoverPoints:s;t=t&&o&&u;if(t&&Ht(u)[0].plotX===e){t=false}if(t){o.refresh(u)}else{if(s){s.onMouseOut()}if(i){i.onMouseOut()}if(o){o.hide();o.hideCrosshairs()}n.hoverX=null}},setDOMEvents:function(){function c(){if(n.selectionMarker){var e={xAxis:[],yAxis:[]},o=n.selectionMarker.getBBox(),f=o.x-r.plotLeft,l=o.y-r.plotTop,h;if(s){an(r.axes,function(t){if(t.options.zoomEnabled!==false){var n=t.isXAxis,i=r.inverted?!n:n,s=t.translate(i?f:r.plotHeight-l-o.height,true,0,0,1),c=t.translate((i?f+o.width:r.plotHeight-l)-2*t.minPixelPadding,true,0,0,1);if(!isNaN(s)&&!isNaN(c)){e[n?"xAxis":"yAxis"].push({axis:t,min:a(s,c),max:u(s,c)});h=true}}});if(h){vn(r,"selection",e,function(e){r.zoom(e)})}}n.selectionMarker=n.selectionMarker.destroy()}if(r){jt(i,{cursor:"auto"});r.cancelClick=s;r.mouseIsDown=s=false}dn(t,"mouseup",c);if(C){dn(t,"touchend",c)}}var e=true,n=this,r=n.chart,i=r.container,s,o=n.zoomX&&!r.inverted||n.zoomY&&r.inverted,l=n.zoomY&&!r.inverted||n.zoomX&&r.inverted;n.hideTooltipOnMouseMove=function(e){e=mn(e);if(n.chartPosition&&r.hoverSeries&&r.hoverSeries.isCartesian&&!r.isInsidePlot(e.pageX-n.chartPosition.left-r.plotLeft,e.pageY-n.chartPosition.top-r.plotTop)){n.resetTracker()}};n.hideTooltipOnMouseLeave=function(){n.resetTracker();n.chartPosition=null};i.onmousedown=function(e){e=n.normalizeMouseEvent(e);if(e.type.indexOf("touch")===-1&&e.preventDefault){e.preventDefault()}r.mouseIsDown=true;r.cancelClick=false;r.mouseDownX=n.mouseDownX=e.chartX;n.mouseDownY=e.chartY;pn(t,"mouseup",c);if(C){pn(t,"touchend",c)}};var h=function(t){if(t&&t.touches&&t.touches.length>1){return}t=n.normalizeMouseEvent(t);var i=t.type,u=t.chartX,a=t.chartY,c=!r.isInsidePlot(u-r.plotLeft,a-r.plotTop);if(i.indexOf("touch")===-1){t.returnValue=false}if(i==="touchstart"){if(Pt(t.target,"isTracker")){if(!r.runTrackerClick){t.preventDefault()}}else if(!r.runChartClick&&!c){t.preventDefault()}}if(c){if(u<r.plotLeft){u=r.plotLeft}else if(u>r.plotLeft+r.plotWidth){u=r.plotLeft+r.plotWidth}if(a<r.plotTop){a=r.plotTop}else if(a>r.plotTop+r.plotHeight){a=r.plotTop+r.plotHeight}}if(r.mouseIsDown&&i!=="touchstart"){s=Math.sqrt(Math.pow(n.mouseDownX-u,2)+Math.pow(n.mouseDownY-a,2));if(s>10){var h=r.isInsidePlot(n.mouseDownX-r.plotLeft,n.mouseDownY-r.plotTop);if(r.hasCartesianSeries&&(n.zoomX||n.zoomY)&&h){if(!n.selectionMarker){n.selectionMarker=r.renderer.rect(r.plotLeft,r.plotTop,o?1:r.plotWidth,l?1:r.plotHeight,0).attr({fill:n.options.chart.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()}}if(n.selectionMarker&&o){var p=u-n.mouseDownX;n.selectionMarker.attr({width:f(p),x:(p>0?0:p)+n.mouseDownX})}if(n.selectionMarker&&l){var d=a-n.mouseDownY;n.selectionMarker.attr({height:f(d),y:(d>0?0:d)+n.mouseDownY})}if(h&&!n.selectionMarker&&n.options.chart.panning){r.pan(u)}}}if(!c){n.onmousemove(t)}e=c;return c||!r.hasCartesianSeries};if(!/Android 4\.0/.test(d)){i.onmousemove=h}pn(i,"mouseleave",n.hideTooltipOnMouseLeave);if(!C){pn(t,"mousemove",n.hideTooltipOnMouseMove)}i.ontouchstart=function(e){if(n.zoomX||n.zoomY){i.onmousedown(e)}h(e)};i.ontouchmove=h;i.ontouchend=function(){if(s){n.resetTracker()}};i.onclick=function(e){var t=r.hoverPoint,i,s;e=n.normalizeMouseEvent(e);e.cancelBubble=true;if(!r.cancelClick){if(t&&(Pt(e.target,"isTracker")||Pt(e.target.parentNode,"isTracker"))){i=t.plotX;s=t.plotY;xt(t,{pageX:n.chartPosition.left+r.plotLeft+(r.inverted?r.plotWidth-s:i),pageY:n.chartPosition.top+r.plotTop+(r.inverted?r.plotHeight-i:s)});vn(t.series,"click",xt(e,{point:t}));t.firePointEvent("click",e)}else{xt(e,n.getMouseCoordinates(e));if(r.isInsidePlot(e.chartX-r.plotLeft,e.chartY-r.plotTop)){vn(r,"click",e)}}}}},destroy:function(){var e=this,n=e.chart,r=n.container;if(n.trackerGroup){n.trackerGroup=n.trackerGroup.destroy()}dn(r,"mouseleave",e.hideTooltipOnMouseLeave);dn(t,"mousemove",e.hideTooltipOnMouseMove);r.onclick=r.onmousedown=r.onmousemove=r.ontouchstart=r.ontouchend=r.ontouchmove=null;clearInterval(this.tooltipTimeout)},init:function(e,t){if(!e.trackerGroup){e.trackerGroup=e.renderer.g("tracker").attr({zIndex:9}).add()}if(t.enabled){e.tooltip=new jn(e,t)}this.setDOMEvents()}};In.prototype={init:function(e){var t=this,n=t.options=e.options.legend;if(!n.enabled){return}var r=n.itemStyle,i=Bt(n.padding,8),s=n.itemMarginTop||0;t.baseline=Nt(r.fontSize)+3+s;t.itemStyle=r;t.itemHiddenStyle=hn(r,n.itemHiddenStyle);t.itemMarginTop=s;t.padding=i;t.initialItemX=i;t.initialItemY=i-5;t.maxItemWidth=0;t.chart=e;t.itemHeight=0;t.lastLineHeight=0;t.render();pn(t.chart,"endResize",function(){t.positionCheckboxes()})},colorizeItem:function(t,n){var r=this,i=r.options,s=t.legendItem,o=t.legendLine,u=t.legendSymbol,a=r.itemHiddenStyle.color,f=n?i.itemStyle.color:a,l=n?t.color:a,c=t.options&&t.options.marker,h={stroke:l,fill:l},p,d;if(s){s.css({fill:f})}if(o){o.attr({stroke:l})}if(u){if(c){c=t.convertAttribs(c);for(p in c){d=c[p];if(d!==e){h[p]=d}}}u.attr(h)}},positionItem:function(e){var t=this,n=t.options,r=n.symbolPadding,i=!n.rtl,s=e._legendItemPos,o=s[0],u=s[1],a=e.checkbox;if(e.legendGroup){e.legendGroup.translate(i?o:t.legendWidth-o-2*r-4,u)}if(a){a.x=o;a.y=u}},destroyItem:function(e){var t=e.checkbox;an(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){if(e[t]){e[t].destroy()}});if(t){Yt(e.checkbox)}},destroy:function(){var e=this,t=e.group,n=e.box;if(n){e.box=n.destroy()}if(t){e.group=t.destroy()}},positionCheckboxes:function(e){var t=this.group.alignAttr,n,r=this.clipHeight||this.legendHeight;if(t){n=t.translateY;an(this.allItems,function(i){var s=i.checkbox,o;if(s){o=n+s.y+(e||0)+3;jt(s,{left:t.translateX+i.legendItemWidth+s.x-20+z,top:o+z,display:o>n-6&&o<n+r-6?"":W})}})}},renderItem:function(e){var t=this,n=t.chart,r=n.renderer,i=t.options,s=i.layout==="horizontal",o=i.symbolWidth,a=i.symbolPadding,f=t.itemStyle,l=t.itemHiddenStyle,c=t.padding,h=!i.rtl,p,d=i.width,v=i.itemMarginBottom||0,m=t.itemMarginTop,g=t.initialItemX,y,b,w=e.legendItem,E=e.series||e,S=E.options,x=S.showCheckbox,T=i.useHTML;if(!w){e.legendGroup=r.g("legend-item").attr({zIndex:1}).add(t.scrollGroup);E.drawLegendSymbol(t,e);e.legendItem=w=r.text(i.labelFormatter.call(e),h?o+a:-a,t.baseline,T).css(hn(e.visible?f:l)).attr({align:h?"left":"right",zIndex:2}).add(e.legendGroup);(T?w:e.legendGroup).on("mouseover",function(){e.setState(K);w.css(t.options.itemHoverStyle)}).on("mouseout",function(){w.css(e.visible?f:l);e.setState()}).on("click",function(t){var n="legendItemClick",r=function(){e.setVisible()};t={browserEvent:t};if(e.firePointEvent){e.firePointEvent(n,t,r)}else{vn(e,n,t,r)}});t.colorizeItem(e,e.visible);if(S&&x){e.checkbox=Ft("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},i.itemCheckboxStyle,n.container);pn(e.checkbox,"click",function(t){var n=t.target;vn(e,"checkboxClick",{checked:n.checked},function(){e.select()})})}}y=w.getBBox();b=e.legendItemWidth=i.itemWidth||o+a+y.width+c+(x?20:0);t.itemHeight=p=y.height;if(s&&t.itemX-g+b>(d||n.chartWidth-2*c-g)){t.itemX=g;t.itemY+=m+t.lastLineHeight+v;t.lastLineHeight=0}t.maxItemWidth=u(t.maxItemWidth,b);t.lastItemY=m+t.itemY+v;t.lastLineHeight=u(p,t.lastLineHeight);e._legendItemPos=[t.itemX,t.itemY];if(s){t.itemX+=b}else{t.itemY+=m+p+v;t.lastLineHeight=p}t.offsetWidth=d||u(s?t.itemX-g:b,t.offsetWidth)},render:function(){var e=this,t=e.chart,n=t.renderer,r=e.group,i,s,o,u,a=e.box,f=e.options,l=e.padding,c=f.borderWidth,h=f.backgroundColor;e.itemX=e.initialItemX;e.itemY=e.initialItemY;e.offsetWidth=0;e.lastItemY=0;if(!r){e.group=r=n.g("legend").attr({zIndex:7}).add();e.contentGroup=n.g().attr({zIndex:1}).add(r);e.scrollGroup=n.g().add(e.contentGroup);e.clipRect=n.clipRect(0,0,9999,t.chartHeight);e.contentGroup.clip(e.clipRect)}i=[];an(t.series,function(e){var t=e.options;if(!t.showInLegend){return}i=i.concat(e.legendItems||(t.legendType==="point"?e.data:e))});Jt(i,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)});if(f.reversed){i.reverse()}e.allItems=i;e.display=s=!!i.length;an(i,function(t){e.renderItem(t)});o=f.width||e.offsetWidth;u=e.lastItemY+e.lastLineHeight;u=e.handleOverflow(u);if(c||h){o+=l;u+=l;if(!a){e.box=a=n.rect(0,0,o,u,f.borderRadius,c||0).attr({stroke:f.borderColor,"stroke-width":c||0,fill:h||W}).add(r).shadow(f.shadow);a.isNew=true}else if(o>0&&u>0){a[a.isNew?"attr":"animate"](a.crisp(null,null,null,o,u));a.isNew=false}a[s?"show":"hide"]()}e.legendWidth=o;e.legendHeight=u;an(i,function(t){e.positionItem(t)});if(s){r.align(xt({width:o,height:u},f),true,t.spacingBox)}if(!t.isResizing){this.positionCheckboxes()}},handleOverflow:function(e){var t=this,n=this.chart,r=n.renderer,i,s=this.options,u=s.y,f=s.verticalAlign==="top",l=n.spacingBox.height+(f?-u:u)-this.padding,c=s.maxHeight,h,p=this.clipRect,d=s.navigation,v=Bt(d.animation,true),m=d.arrowSize||12,g=this.nav;if(s.layout==="horizontal"){l/=2}if(c){l=a(l,c)}if(e>l){this.clipHeight=h=l-20;this.pageCount=i=o(e/h);this.currentPage=Bt(this.currentPage,1);this.fullHeight=e;p.attr({height:h});if(!g){this.nav=g=r.g().attr({zIndex:1}).add(this.group);this.up=r.symbol("triangle",0,0,m,m).on("click",function(){t.scroll(-1,v)}).add(g);this.pager=r.text("",15,10).css(d.style).add(g);this.down=r.symbol("triangle-down",0,0,m,m).on("click",function(){t.scroll(1,v)}).add(g)}t.scroll(0);e=l}else if(g){p.attr({height:n.chartHeight});g.hide();this.scrollGroup.attr({translateY:1});this.clipHeight=0}return e},scroll:function(t,n){var r=this.pageCount,i=this.currentPage+t,s=this.clipHeight,o=this.options.navigation,u=o.activeColor,f=o.inactiveColor,l=this.pager,c=this.padding,h;if(i>r){i=r}if(i>0){if(n!==e){tn(n,this.chart)}this.nav.attr({translateX:c,translateY:s+7,visibility:U});this.up.attr({fill:i===1?f:u}).css({cursor:i===1?"default":"pointer"});l.attr({text:i+"/"+this.pageCount});this.down.attr({x:18+this.pager.getBBox().width,fill:i===r?f:u}).css({cursor:i===r?"default":"pointer"});h=-a(s*(i-1),this.fullHeight-s+c)+1;this.scrollGroup.animate({translateY:h});l.attr({text:i+"/"+r});this.currentPage=i;this.positionCheckboxes(h)}}};qn.prototype={init:function(e,t){var n,r=e.series;e.series=null;n=hn(O,e);n.series=e.series=r;var i=n.chart,s=i.margin,o=kt(s)?s:[s,s,s,s];this.optionsMarginTop=Bt(i.marginTop,o[0]);this.optionsMarginRight=Bt(i.marginRight,o[1]);this.optionsMarginBottom=Bt(i.marginBottom,o[2]);this.optionsMarginLeft=Bt(i.marginLeft,o[3]);var u=i.events;this.runChartClick=u&&!!u.click;this.callback=t;this.isResizing=0;this.options=n;this.axes=[];this.series=[];this.hasCartesianSeries=i.showAxes;var a=this,f;a.index=B.length;B.push(a);if(i.reflow!==false){pn(a,"load",a.initReflow)}if(u){for(f in u){pn(a,f,u[f])}}a.xAxis=[];a.yAxis=[];a.animation=T?false:Bt(i.animation,true);a.pointCount=0;a.counters=new $t;a.firstRender()},initSeries:function(e){var t=this,n=t.options.chart,r=e.type||n.type||n.defaultSeriesType,i=new St[r];i.init(this,e);return i},addSeries:function(e,t,n){var r,i=this;if(e){tn(n,i);t=Bt(t,true);vn(i,"addSeries",{options:e},function(){r=i.initSeries(e);i.isDirtyLegend=true;if(t){i.redraw()}})}return r},isInsidePlot:function(e,t,n){var r=n?t:e,i=n?e:t;return r>=0&&r<=this.plotWidth&&i>=0&&i<=this.plotHeight},adjustTickAmounts:function(){if(this.options.chart.alignTicks!==false){an(this.axes,function(e){e.adjustTickAmount()})}this.maxTicks=null},redraw:function(e){var t=this,n=t.axes,r=t.series,i=t.tracker,s=t.legend,o=t.isDirtyLegend,u,a=t.isDirtyBox,f=r.length,l=f,c,h=t.renderer,p=h.isHidden(),d=[];tn(e,t);if(p){t.cloneRenderTo()}while(l--){c=r[l];if(c.isDirty&&c.options.stacking){u=true;break}}if(u){l=f;while(l--){c=r[l];if(c.options.stacking){c.isDirty=true}}}an(r,function(e){if(e.isDirty){if(e.options.legendType==="point"){o=true}}});if(o&&s.options.enabled){s.render();t.isDirtyLegend=false}if(t.hasCartesianSeries){if(!t.isResizing){t.maxTicks=null;an(n,function(e){e.setScale()})}t.adjustTickAmounts();t.getMargins();an(n,function(e){if(e.isDirtyExtremes){e.isDirtyExtremes=false;d.push(function(){vn(e,"afterSetExtremes",e.getExtremes())})}if(e.isDirty||a||u){e.redraw();a=true}})}if(a){t.drawChartBox()}an(r,function(e){if(e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)){e.redraw()}});if(i&&i.resetTracker){i.resetTracker(true)}h.draw();vn(t,"redraw");if(p){t.cloneRenderTo(true)}an(d,function(e){e.call()})},showLoading:function(e){var t=this,n=t.options,r=t.loadingDiv;var i=n.loading;if(!r){t.loadingDiv=r=Ft(j,{className:R+"loading"},xt(i.style,{left:t.plotLeft+z,top:t.plotTop+z,width:t.plotWidth+z,height:t.plotHeight+z,zIndex:10,display:W}),t.container);t.loadingSpan=Ft("span",null,i.labelStyle,r)}t.loadingSpan.innerHTML=e||n.lang.loading;if(!t.loadingShown){jt(r,{opacity:0,display:""});gn(r,{opacity:i.style.opacity},{duration:i.showDuration||0});t.loadingShown=true}},hideLoading:function(){var e=this.options,t=this.loadingDiv;if(t){gn(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){jt(t,{display:W})}})}this.loadingShown=false},get:function(e){var t=this,n=t.axes,r=t.series;var i,s,o;for(i=0;i<n.length;i++){if(n[i].options.id===e){return n[i]}}for(i=0;i<r.length;i++){if(r[i].options.id===e){return r[i]}}for(i=0;i<r.length;i++){o=r[i].points||[];for(s=0;s<o.length;s++){if(o[s].id===e){return o[s]}}}return null},getAxes:function(){var e=this,t=this.options;var n=t.xAxis||{},r=t.yAxis||{},i,s;n=Ht(n);an(n,function(e,t){e.index=t;e.isX=true});r=Ht(r);an(r,function(e,t){e.index=t});i=n.concat(r);an(i,function(t){s=new Bn(e,t)});e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];an(this.series,function(t){e=e.concat(fn(t.points,function(e){return e.selected}))});return e},getSelectedSeries:function(){return fn(this.series,function(e){return e.selected})},showResetZoom:function(){var e=this,t=O.lang,n=e.options.chart.resetZoomButton,r=n.theme,i=r.states,s=n.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},r,i&&i.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,false,e[s]);this.resetZoomButton.alignTo=s},zoomOut:function(){var e=this,t=e.resetZoomButton;vn(e,"selection",{resetSelection:true},function(){e.zoom()});if(t){e.resetZoomButton=t.destroy()}},zoom:function(e){var t=this,n;if(!e||e.resetSelection){an(t.axes,function(e){n=e.zoom()})}else{an(e.xAxis.concat(e.yAxis),function(e){var r=e.axis;if(t.tracker[r.isXAxis?"zoomX":"zoomY"]){n=r.zoom(e.min,e.max)}})}if(!t.resetZoomButton){t.showResetZoom()}if(n){t.redraw(Bt(t.options.chart.animation,t.pointCount<100))}},pan:function(e){var t=this;var n=t.xAxis[0],r=t.mouseDownX,i=n.pointRange/2,s=n.getExtremes(),o=n.translate(r-e,true)+i,f=n.translate(r+t.plotWidth-e,true)-i,l=t.hoverPoints;if(l){an(l,function(e){e.setState()})}if(n.series.length&&o>a(s.dataMin,s.min)&&f<u(s.dataMax,s.max)){n.setExtremes(o,f,true,false,{trigger:"pan"})}t.mouseDownX=e;jt(t.container,{cursor:"move"})},setTitle:function(e,t){var n=this,r=n.options,i,s;n.chartTitleOptions=i=hn(r.title,e);n.chartSubtitleOptions=s=hn(r.subtitle,t);an([["title",e,i],["subtitle",t,s]],function(e){var t=e[0],r=n[t],i=e[1],s=e[2];if(r&&i){n[t]=r=r.destroy()}if(s&&s.text&&!r){n[t]=n.renderer.text(s.text,0,0,s.useHTML).attr({align:s.align,"class":R+t,zIndex:s.zIndex||4}).css(s.style).add().align(s,false,n.spacingBox)}})},getChartSize:function(){var e=this,t=e.options.chart,n=e.renderToClone||e.renderTo;e.containerWidth=sn(n,"width");e.containerHeight=sn(n,"height");e.chartWidth=u(0,Bt(t.width,e.containerWidth,600));e.chartHeight=u(0,Bt(t.height,e.containerHeight>19?e.containerHeight:400))},cloneRenderTo:function(e){var n=this.renderToClone,r=this.container;if(e){if(n){this.renderTo.appendChild(r);Yt(n);delete this.renderToClone}}else{if(r){this.renderTo.removeChild(r)}this.renderToClone=n=this.renderTo.cloneNode(0);jt(n,{position:F,top:"-9999px",display:"block"});t.body.appendChild(n);if(r){n.appendChild(r)}}},getContainer:function(){var e=this,n,r=e.options.chart,i,s,o,u="data-highcharts-chart",a,f;e.renderTo=o=r.renderTo;f=R+L++;if(Ct(o)){e.renderTo=o=t.getElementById(o)}if(!o){Zt(13,true)}a=Nt(Pt(o,u));if(!isNaN(a)&&B[a]){B[a].destroy()}Pt(o,u,e.index);o.innerHTML="";if(!o.offsetWidth){e.cloneRenderTo()}e.getChartSize();i=e.chartWidth;s=e.chartHeight;e.container=n=Ft(j,{className:R+"container"+(r.className?" "+r.className:""),id:f},xt({position:I,overflow:q,width:i+z,height:s+z,textAlign:"left",lineHeight:"normal",zIndex:0},r.style),e.renderToClone||o);e.renderer=r.forExport?new kn(n,i,s,true):new N(n,i,s);if(T){e.renderer.create(e,n,i,s)}},getMargins:function(){var e=this,t=e.options.chart,n=t.spacingTop,r=t.spacingRight,i=t.spacingBottom,s=t.spacingLeft,o,a=e.legend,f=e.optionsMarginTop,l=e.optionsMarginLeft,c=e.optionsMarginRight,h=e.optionsMarginBottom,p=e.chartTitleOptions,d=e.chartSubtitleOptions,v=e.options.legend,m=Bt(v.margin,10),g=v.x,y=v.y,b=v.align,w=v.verticalAlign,E;e.resetMargins();o=e.axisOffset;if((e.title||e.subtitle)&&!Dt(e.optionsMarginTop)){E=u(e.title&&!p.floating&&!p.verticalAlign&&p.y||0,e.subtitle&&!d.floating&&!d.verticalAlign&&d.y||0);if(E){e.plotTop=u(e.plotTop,E+Bt(p.margin,15)+n)}}if(a.display&&!v.floating){if(b==="right"){if(!Dt(c)){e.marginRight=u(e.marginRight,a.legendWidth-g+m+r)}}else if(b==="left"){if(!Dt(l)){e.plotLeft=u(e.plotLeft,a.legendWidth+g+m+s)}}else if(w==="top"){if(!Dt(f)){e.plotTop=u(e.plotTop,a.legendHeight+y+m+n)}}else if(w==="bottom"){if(!Dt(h)){e.marginBottom=u(e.marginBottom,a.legendHeight-y+m+i)}}}if(e.extraBottomMargin){e.marginBottom+=e.extraBottomMargin}if(e.extraTopMargin){e.plotTop+=e.extraTopMargin}if(e.hasCartesianSeries){an(e.axes,function(e){e.getOffset()})}if(!Dt(l)){e.plotLeft+=o[3]}if(!Dt(f)){e.plotTop+=o[0]}if(!Dt(h)){e.marginBottom+=o[2]}if(!Dt(c)){e.marginRight+=o[1]}e.setChartSize()},initReflow:function(){function o(o){var u=r.width||sn(i,"width"),a=r.height||sn(i,"height"),f=o?o.target:n;if(!e.hasUserSize&&u&&a&&(f===n||f===t)){if(u!==e.containerWidth||a!==e.containerHeight){clearTimeout(s);e.reflowTimeout=s=setTimeout(function(){if(e.container){e.setSize(u,a,false);e.hasUserSize=null}},100)}e.containerWidth=u;e.containerHeight=a}}var e=this,r=e.options.chart,i=e.renderTo,s;pn(n,"resize",o);pn(e,"destroy",function(){dn(n,"resize",o)})},setSize:function(e,t,n){var r=this,s,o,a,f=r.resetZoomButton,l=r.title,c=r.subtitle,h;r.isResizing+=1;h=function(){if(r){vn(r,"endResize",null,function(){r.isResizing-=1})}};tn(n,r);r.oldChartHeight=r.chartHeight;r.oldChartWidth=r.chartWidth;if(Dt(e)){r.chartWidth=s=u(0,i(e));r.hasUserSize=!!s}if(Dt(t)){r.chartHeight=o=u(0,i(t))}jt(r.container,{width:s+z,height:o+z});r.renderer.setSize(s,o,n);r.plotWidth=s-r.plotLeft-r.marginRight;r.plotHeight=o-r.plotTop-r.marginBottom;r.maxTicks=null;an(r.axes,function(e){e.isDirty=true;e.setScale()});an(r.series,function(e){e.isDirty=true});r.isDirtyLegend=true;r.isDirtyBox=true;r.getMargins();a=r.spacingBox;if(l){l.align(null,null,a)}if(c){c.align(null,null,a)}if(f&&f.align){f.align(null,null,r[f.alignTo])}r.redraw(n);r.oldChartHeight=null;vn(r,"resize");if(_===false){h()}else{setTimeout(h,_&&_.duration||500)}},setChartSize:function(){var e=this,t=e.inverted,n=e.chartWidth,r=e.chartHeight,s=e.options.chart,o=s.spacingTop,a=s.spacingRight,f=s.spacingBottom,l=s.spacingLeft,c,h,p,d,v;e.plotLeft=c=i(e.plotLeft);e.plotTop=h=i(e.plotTop);e.plotWidth=p=u(0,i(n-c-e.marginRight));e.plotHeight=d=u(0,i(r-h-e.marginBottom));e.plotSizeX=t?d:p;e.plotSizeY=t?p:d;e.plotBorderWidth=v=s.plotBorderWidth||0;e.spacingBox={x:l,y:o,width:n-l-a,height:r-o-f};e.plotBox={x:c,y:h,width:p,height:d};e.clipBox={x:v/2,y:v/2,width:e.plotSizeX-v,height:e.plotSizeY-v};an(e.axes,function(e){e.setAxisSize();e.setAxisTranslation()})},resetMargins:function(){var e=this,t=e.options.chart,n=t.spacingTop,r=t.spacingRight,i=t.spacingBottom,s=t.spacingLeft;e.plotTop=Bt(e.optionsMarginTop,n);e.marginRight=Bt(e.optionsMarginRight,r);e.marginBottom=Bt(e.optionsMarginBottom,i);e.plotLeft=Bt(e.optionsMarginLeft,s);e.axisOffset=[0,0,0,0]},drawChartBox:function(){var e=this,t=e.options.chart,n=e.renderer,r=e.chartWidth,i=e.chartHeight,s=e.chartBackground,o=e.plotBackground,u=e.plotBorder,a=e.plotBGImage,f=t.borderWidth||0,l=t.backgroundColor,c=t.plotBackgroundColor,h=t.plotBackgroundImage,p=t.plotBorderWidth||0,d,v,m=e.plotLeft,g=e.plotTop,y=e.plotWidth,b=e.plotHeight,w=e.plotBox,E=e.clipRect,S=e.clipBox;d=f+(t.shadow?8:0);if(f||l){if(!s){v={fill:l||W};if(f){v.stroke=t.borderColor;v["stroke-width"]=f}e.chartBackground=n.rect(d/2,d/2,r-d,i-d,t.borderRadius,f).attr(v).add().shadow(t.shadow)}else{s.animate(s.crisp(null,null,null,r-d,i-d))}}if(c){if(!o){e.plotBackground=n.rect(m,g,y,b,0).attr({fill:c}).add().shadow(t.plotShadow)}else{o.animate(w)}}if(h){if(!a){e.plotBGImage=n.image(h,m,g,y,b).add()}else{a.animate(w)}}if(!E){e.clipRect=n.clipRect(S)}else{E.animate({width:S.width,height:S.height})}if(p){if(!u){e.plotBorder=n.rect(m,g,y,b,0,p).attr({stroke:t.plotBorderColor,"stroke-width":p,zIndex:1}).add()}else{u.animate(u.crisp(null,m,g,y,b))}}e.isDirtyBox=false},propFromSeries:function(){var e=this,t=e.options.chart,n,r=e.options.series,i,s;an(["inverted","angular","polar"],function(o){n=St[t.type||t.defaultSeriesType];s=e[o]||t[o]||n&&n.prototype[o];i=r&&r.length;while(!s&&i--){n=St[r[i].type];if(n&&n.prototype[o]){s=true}}e[o]=s})},render:function(){var e=this,t=e.axes,n=e.renderer,r=e.options;var i=r.labels,s=r.credits,o;e.setTitle();e.legend=new In(e);an(t,function(e){e.setScale()});e.getMargins();e.maxTicks=null;an(t,function(e){e.setTickPositions(true);e.setMaxTicks()});e.adjustTickAmounts();e.getMargins();e.drawChartBox();if(e.hasCartesianSeries){an(t,function(e){e.render()})}if(!e.seriesGroup){e.seriesGroup=n.g("series-group").attr({zIndex:3}).add()}an(e.series,function(e){e.translate();e.setTooltipPoints();e.render()});if(i.items){an(i.items,function(t){var r=xt(i.style,t.style),s=Nt(r.left)+e.plotLeft,o=Nt(r.top)+e.plotTop+12;delete r.left;delete r.top;n.text(t.html,s,o).attr({zIndex:2}).css(r).add()})}if(s.enabled&&!e.credits){o=s.href;e.credits=n.text(s.text,0,0).on("click",function(){if(o){location.href=o}}).attr({align:s.position.align,zIndex:8}).css(s.style).add().align(s.position)}e.hasRendered=true},destroy:function(){var t=this,n=t.axes,r=t.series,i=t.container,s,o=i&&i.parentNode;vn(t,"destroy");B[t.index]=e;t.renderTo.removeAttribute("data-highcharts-chart");dn(t);s=n.length;while(s--){n[s]=n[s].destroy()}s=r.length;while(s--){r[s]=r[s].destroy()}an(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","tracker","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(e){var n=t[e];if(n&&n.destroy){t[e]=n.destroy()}});if(i){i.innerHTML="";dn(i);if(o){Yt(i)}}for(s in t){delete t[s]}},isReadyToRender:function(){var e=this;if(!S&&n==n.top&&t.readyState!=="complete"||T&&!n.canvg){if(T){_n.push(function(){e.firstRender()},e.options.global.canvasToolsURL)}else{t.attachEvent("onreadystatechange",function(){t.detachEvent("onreadystatechange",e.firstRender);if(t.readyState==="complete"){e.firstRender()}})}return false}return true},firstRender:function(){var e=this,t=e.options,n=e.callback;if(!e.isReadyToRender()){return}e.getContainer();vn(e,"init");if(Highcharts.RangeSelector&&t.rangeSelector.enabled){e.rangeSelector=new Highcharts.RangeSelector(e)}e.resetMargins();e.setChartSize();e.propFromSeries();e.getAxes();an(t.series||[],function(t){e.initSeries(t)});if(Highcharts.Scroller&&(t.navigator.enabled||t.scrollbar.enabled)){e.scroller=new Highcharts.Scroller(e)}e.tracker=new Fn(e,t);e.render();e.renderer.draw();if(n){n.apply(e,[e])}an(e.callbacks,function(t){t.apply(e,[e])});e.cloneRenderTo(true);vn(e,"load")}};qn.prototype.callbacks=[];var Rn=function(){};Rn.prototype={init:function(e,t,n){var r=this,i=e.chart.counters,s;r.series=e;r.applyOptions(t,n);r.pointAttr={};if(e.options.colorByPoint){s=e.chart.options.colors;r.color=r.color||s[i.color++];i.wrapColor(s.length)}e.chart.pointCount++;return r},applyOptions:function(t,n){var r=this,i=r.series,s=typeof t;r.config=t;if(s==="number"||t===null){r.y=t}else if(typeof t[0]==="number"){r.x=t[0];r.y=t[1]}else if(s==="object"&&typeof t.length!=="number"){xt(r,t);r.options=t;if(t.dataLabels){i._hasPointLabels=true}if(t.marker){i._hasPointMarkers=true}}else if(typeof t[0]==="string"){r.name=t[0];r.y=t[1]}if(r.x===e){r.x=n===e?i.autoIncrement():n}},destroy:function(){var e=this,t=e.series,n=t.chart,r=n.hoverPoints,i;n.pointCount--;if(r){e.setState();_t(r,e);if(!r.length){n.hoverPoints=null}}if(e===n.hoverPoint){e.onMouseOut()}if(e.graphic||e.dataLabel){dn(e);e.destroyElements()}if(e.legendItem){n.legend.destroyItem(e)}for(i in e){e[i]=null}},destroyElements:function(){var e=this,t=["graphic","tracker","dataLabel","dataLabelUpper","group","connector","shadowGroup"],n,r=6;while(r--){n=t[r];if(e[n]){e[n]=e[n].destroy()}}},getLabelConfig:function(){var e=this;return{x:e.category,y:e.y,key:e.name||e.category,series:e.series,point:e,percentage:e.percentage,total:e.total||e.stackTotal}},select:function(e,t){var n=this,r=n.series,i=r.chart;e=Bt(e,!n.selected);n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=e;n.setState(e&&Q);if(!t){an(i.getSelectedPoints(),function(e){if(e.selected&&e!==n){e.selected=false;e.setState(J);e.firePointEvent("unselect")}})}})},onMouseOver:function(){var e=this,t=e.series,n=t.chart,r=n.tooltip,i=n.hoverPoint;if(i&&i!==e){i.onMouseOut()}e.firePointEvent("mouseOver");if(r&&(!r.shared||t.noSharedTooltip)){r.refresh(e)}e.setState(K);n.hoverPoint=e},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;if(!t||un(this,t)===-1){this.firePointEvent("mouseOut");this.setState();e.hoverPoint=null}},tooltipFormatter:function(e){var t=this,n=t.series,r=n.tooltipOptions,i=e.match(/\{(series|point)\.[a-zA-Z]+\}/g),s=/[{\.}]/,o,u,a,f,l,c,h,p={y:0,open:0,high:0,low:0,close:0,percentage:1,total:1,text:1};r.valuePrefix=r.valuePrefix||r.yPrefix;r.valueDecimals=Bt(r.valueDecimals,r.yDecimals);r.valueSuffix=r.valueSuffix||r.ySuffix;for(h in i){u=i[h];if(Ct(u)&&u!==e){l=(" "+u).split(s);o={point:t,series:n}[l[1]];c=l[2];if(o===t&&p.hasOwnProperty(c)&&c!=="text"){f=p[c]?c:"value";a=(r[f+"Prefix"]||"")+Rt(t[c],Bt(r[f+"Decimals"],-1))+(r[f+"Suffix"]||"")}else{a=o[c]}e=e.replace(u,a)}}return e},update:function(e,t,n){var r=this,i=r.series,s=r.graphic,o,u=i.data,a=u.length,f=i.chart;t=Bt(t,true);r.firePointEvent("update",{options:e},function(){r.applyOptions(e);if(kt(e)){i.getAttribs();if(s){s.attr(r.pointAttr[i.state])}}for(o=0;o<a;o++){if(u[o]===r){i.xData[o]=r.x;i.yData[o]=r.toYData?r.toYData():r.y;i.options.data[o]=e;break}}i.isDirty=true;i.isDirtyData=true;if(t){f.redraw(n)}})},remove:function(e,t){var n=this,r=n.series,i=r.chart,s,o=r.data,u=o.length;tn(t,i);e=Bt(e,true);n.firePointEvent("remove",null,function(){for(s=0;s<u;s++){if(o[s]===n){o.splice(s,1);r.options.data.splice(s,1);r.xData.splice(s,1);r.yData.splice(s,1);break}}n.destroy();r.isDirty=true;r.isDirtyData=true;if(e){i.redraw()}})},firePointEvent:function(e,t,n){var r=this,i=this.series,s=i.options;if(s.point.events[e]||r.options&&r.options.events&&r.options.events[e]){this.importEvents()}if(e==="click"&&s.allowPointSelect){n=function(e){r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}}vn(this,e,t,n)},importEvents:function(){if(!this.hasImportedEvents){var e=this,t=hn(e.series.options.point,e.options),n=t.events,r;e.events=n;for(r in n){pn(e,r,n[r])}this.hasImportedEvents=true}},setState:function(e){var t=this,n=t.plotX,r=t.plotY,i=t.series,s=i.options.states,o=wn[i.type].marker&&i.options.marker,u=o&&!o.enabled,a=o&&o.states[e],f=a&&a.enabled===false,l=i.stateMarkerGraphic,c=i.chart,h,p=t.pointAttr;e=e||J;if(e===t.state||t.selected&&e!==Q||s[e]&&s[e].enabled===false||e&&(f||u&&!a.enabled)){return}if(t.graphic){h=o&&t.graphic.symbolName&&p[e].r;t.graphic.attr(hn(p[e],h?{x:n-h,y:r-h,width:2*h,height:2*h}:{}))}else{if(e&&a){h=a.radius;if(!l){i.stateMarkerGraphic=l=c.renderer.symbol(i.symbol,n-h,r-h,2*h,2*h).attr(p[e]).add(i.markerGroup)}else{l.attr({x:n-h,y:r-h})}}if(l){l[e&&c.isInsidePlot(n,r)?"show":"hide"]()}}t.state=e}};var Un=function(){};Un.prototype={isCartesian:true,type:"line",pointClass:Rn,sorted:true,requireSorting:true,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(e,t){var n=this,r,i;n.chart=e;n.options=t=n.setOptions(t);n.bindAxes();xt(n,{name:t.name,state:J,pointAttr:{},visible:t.visible!==false,selected:t.selected===true});if(T){t.animation=false}i=t.events;for(r in i){pn(n,r,i[r])}if(i&&i.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect){e.runTrackerClick=true}n.getColor();n.getSymbol();n.setData(t.data,false);if(n.isCartesian){e.hasCartesianSeries=true}e.series.push(n);Jt(e.series,function(e,t){return(e.options.index||0)-(t.options.index||0)});an(e.series,function(e,t){e.index=t;e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var t=this,n=t.options,r=t.chart,i;if(t.isCartesian){an(["xAxis","yAxis"],function(s){an(r[s],function(r){i=r.options;if(n[s]===i.index||n[s]===e&&i.index===0){r.series.push(t);t[s]=r;r.isDirty=true}})})}},autoIncrement:function(){var e=this,t=e.options,n=e.xIncrement;n=Bt(n,t.pointStart,0);e.pointInterval=Bt(e.pointInterval,t.pointInterval,1);e.xIncrement=n+e.pointInterval;return n},getSegments:function(){var e=this,t=-1,n=[],r,i=e.points,s=i.length;if(s){if(e.options.connectNulls){r=s;while(r--){if(i[r].y===null){i.splice(r,1)}}if(i.length){n=[i]}}else{an(i,function(e,r){if(e.y===null){if(r>t+1){n.push(i.slice(t+1,r))}t=r}else if(r===s-1){n.push(i.slice(t+1,r+1))}})}}e.segments=n},setOptions:function(e){var t=this.chart,n=t.options,r=n.plotOptions,i=r[this.type],s=e.data,o;e.data=null;o=hn(i,r.series,e);o.data=e.data=s;this.tooltipOptions=hn(n.tooltip,o.tooltip);if(i.marker===null){delete o.marker}return o},getColor:function(){var e=this.options,t=this.chart.options.colors,n=this.chart.counters;this.color=e.color||!e.colorByPoint&&t[n.color++]||"gray";n.wrapColor(t.length)},getSymbol:function(){var e=this,t=e.options.marker,n=e.chart,r=n.options.symbols,i=n.counters;e.symbol=t.symbol||r[i.symbol++];if(/^url/.test(e.symbol)){t.radius=0}i.wrapSymbol(r.length)},drawLegendSymbol:function(e){var t=this.options,n=t.marker,r,i=e.options,s,o=i.symbolWidth,u=this.chart.renderer,a=this.legendGroup,f=e.baseline,l;if(t.lineWidth){l={"stroke-width":t.lineWidth};if(t.dashStyle){l.dashstyle=t.dashStyle}this.legendLine=u.path([X,0,f-4,V,o,f-4]).attr(l).add(a)}if(n&&n.enabled){r=n.radius;this.legendSymbol=s=u.symbol(this.symbol,o/2-r,f-4-r,2*r,2*r).add(a)}},addPoint:function(e,t,n,r){var i=this,s=i.options,o=i.data,u=i.graph,a=i.area,f=i.chart,l=i.xData,c=i.yData,h=u&&u.shift||0,p=s.data,d,v=i.pointClass.prototype;tn(r,f);if(u&&n){u.shift=h+1}if(a){if(n){a.shift=h+1}a.isArea=true}t=Bt(t,true);d={series:i};v.applyOptions.apply(d,[e]);l.push(d.x);c.push(v.toYData?v.toYData.call(d):d.y);p.push(e);if(s.legendType==="point"){i.generatePoints()}if(n){if(o[0]&&o[0].remove){o[0].remove(false)}else{o.shift();l.shift();c.shift();p.shift()}}i.getAttribs();i.isDirty=true;i.isDirtyData=true;if(t){f.redraw()}},setData:function(e,t){var n=this,r=n.points,i=n.options,s=n.initialColor,o=n.chart,u=null,a=n.xAxis,f,l=n.pointClass.prototype;n.xIncrement=null;n.pointRange=a&&a.categories?1:i.pointRange;if(Dt(s)){o.counters.color=s}var c=[],h=[],p=e?e.length:[],d=i.turboThreshold||1e3,v,m=n.pointArrayMap,g=m&&m.length;if(p>d){f=0;while(u===null&&f<p){u=e[f];f++}if(At(u)){var y=Bt(i.pointStart,0),b=Bt(i.pointInterval,1);for(f=0;f<p;f++){c[f]=y;h[f]=e[f];y+=b}n.xIncrement=y}else if(Lt(u)){if(g){for(f=0;f<p;f++){v=e[f];c[f]=v[0];h[f]=v.slice(1,g+1)}}else{for(f=0;f<p;f++){v=e[f];c[f]=v[0];h[f]=v[1]}}}}else{for(f=0;f<p;f++){v={series:n};l.applyOptions.apply(v,[e[f]]);c[f]=v.x;h[f]=l.toYData?l.toYData.call(v):v.y}}if(n.requireSorting&&c.length>1&&c[1]<c[0]){Zt(15)}if(Ct(h[0])){Zt(14,true)}n.data=[];n.options.data=e;n.xData=c;n.yData=h;f=r&&r.length||0;while(f--){if(r[f]&&r[f].destroy){r[f].destroy()}}if(a){a.minRange=a.userMinRange}n.isDirty=n.isDirtyData=o.isDirtyBox=true;if(Bt(t,true)){o.redraw(false)}},remove:function(e,t){var n=this,r=n.chart;e=Bt(e,true);if(!n.isRemoving){n.isRemoving=true;vn(n,"remove",null,function(){n.destroy();r.isDirtyLegend=r.isDirtyBox=true;if(e){r.redraw(t)}})}n.isRemoving=false},processData:function(t){var n=this,r=n.xData,i=n.yData,s=r.length,o=0,a=s,f,l,c,h=n.xAxis,p,d=n.options,v=d.cropThreshold,m=n.isCartesian;if(m&&!n.isDirty&&!h.isDirty&&!n.yAxis.isDirty&&!t){return false}if(m&&n.sorted&&(!v||s>v||n.forceCrop)){var g=h.getExtremes(),y=g.min,b=g.max;if(r[s-1]<y||r[0]>b){r=[];i=[]}else if(r[0]<y||r[s-1]>b){for(p=0;p<s;p++){if(r[p]>=y){o=u(0,p-1);break}}for(;p<s;p++){if(r[p]>b){a=p+1;break}}r=r.slice(o,a);i=i.slice(o,a);f=true}}for(p=r.length-1;p>0;p--){l=r[p]-r[p-1];if(l>0&&(c===e||l<c)){c=l}}n.cropped=f;n.cropStart=o;n.processedXData=r;n.processedYData=i;if(d.pointRange===null){n.pointRange=c||1}n.closestPointRange=c},generatePoints:function(){var t=this,n=t.options,r=n.data,i=t.data,s,o=t.processedXData,u=t.processedYData,a=t.pointClass,f=o.length,l=t.cropStart||0,c,h=t.hasGroupedData,p,d=[],v;if(!i&&!h){var m=[];m.length=r.length;i=t.data=m}for(v=0;v<f;v++){c=l+v;if(!h){if(i[c]){p=i[c]}else if(r[c]!==e){i[c]=p=(new a).init(t,r[c],o[v])}d[v]=p}else{d[v]=(new a).init(t,[o[v]].concat(Ht(u[v])))}}if(i&&(f!==(s=i.length)||h)){for(v=0;v<s;v++){if(v===l&&!h){v+=f}if(i[v]){i[v].destroyElements();i[v].plotX=e}}}t.data=i;t.points=d},translate:function(){if(!this.processedXData){this.processData()}this.generatePoints();var t=this,n=t.chart,r=t.options,s=r.stacking,o=t.xAxis,u=o.categories,a=t.yAxis,f=t.points,l=f.length,c=!!t.modifyValue,h,p=a.series,d=p.length,v=r.pointPlacement==="between";while(d--){if(p[d].visible){if(p[d]===t){h=true}break}}for(d=0;d<l;d++){var m=f[d],g=m.x,y=m.y,b=m.low,w=a.stacks[(y<r.threshold?"-":"")+t.stackKey],E,S;m.plotX=o.translate(g,0,0,0,1,v);if(s&&t.visible&&w&&w[g]){E=w[g];S=E.total;E.cum=b=E.cum-y;y=b+y;if(h){b=Bt(r.threshold,a.min)}if(a.isLog&&b<=0){b=null}if(s==="percent"){b=S?b*100/S:0;y=S?y*100/S:0}m.percentage=S?m.y*100/S:0;m.total=m.stackTotal=S;m.stackY=y}m.yBottom=Dt(b)?a.translate(b,0,1,0,1):null;if(c){y=t.modifyValue(y,m)}m.plotY=typeof y==="number"?i(a.translate(y,0,1,0,1)*10)/10:e;m.clientX=n.inverted?n.plotHeight-m.plotX:m.plotX;m.category=u&&u[m.x]!==e?u[m.x]:m.x}t.getSegments()},setTooltipPoints:function(e){var t=this,n=[],r,i,o,a=t.xAxis,f=a?a.tooltipLen||a.len:t.chart.plotSizeX,l=a&&a.tooltipPosName||"plotX",c,h,p=[];if(t.options.enableMouseTracking===false){return}if(e){t.tooltipPoints=null}an(t.segments||t.points,function(e){n=n.concat(e)});if(a&&a.reversed){n=n.reverse()}r=n.length;for(h=0;h<r;h++){c=n[h];i=n[h-1]?o+1:0;o=n[h+1]?u(0,s((c[l]+(n[h+1]?n[h+1][l]:f))/2)):f;while(i>=0&&i<=o){p[i++]=c}}t.tooltipPoints=p},tooltipHeaderFormatter:function(e){var t=this,n=t.tooltipOptions,r=n.xDateFormat,i=t.xAxis,s=i&&i.options.type==="datetime",o;if(s&&!r){for(o in P){if(P[o]>=i.closestPointRange){r=n.dateTimeLabelFormats[o];break}}}return n.headerFormat.replace("{point.key}",s&&At(e)?M(r,e):e).replace("{series.name}",t.name).replace("{series.color}",t.color)},onMouseOver:function(){var e=this,t=e.chart,n=t.hoverSeries;if(n&&n!==e){n.onMouseOut()}if(e.options.events.mouseOver){vn(e,"mouseOver")}e.setState(K);t.hoverSeries=e},onMouseOut:function(){var e=this,t=e.options,n=e.chart,r=n.tooltip,i=n.hoverPoint;if(i){i.onMouseOut()}if(e&&t.events.mouseOut){vn(e,"mouseOut")}if(r&&!t.stickyTracking&&!r.shared){r.hide()}e.setState();n.hoverSeries=null},animate:function(e){var t=this,n=t.chart,r=n.renderer,i,s,o=t.options.animation,u=n.clipBox,a=n.inverted,f;if(o&&!kt(o)){o=wn[t.type].animation}f="_sharedClip"+o.duration+o.easing;if(e){i=n[f];s=n[f+"m"];if(!i){n[f]=i=r.clipRect(xt(u,{width:0}));n[f+"m"]=s=r.clipRect(-99,a?-n.plotLeft:-n.plotTop,99,a?n.chartWidth:n.chartHeight)}t.group.clip(i);t.markerGroup.clip(s);t.sharedClipKey=f}else{i=n[f];if(i){i.animate({width:n.plotSizeX},o);n[f+"m"].animate({width:n.plotSizeX+99},o)}t.animate=null;t.animationTimeout=setTimeout(function(){t.afterAnimate()},o.duration)}},afterAnimate:function(){var e=this.chart,t=this.sharedClipKey,n=this.group,r=this.trackerGroup;if(n&&this.options.clip!==false){n.clip(e.clipRect);if(r){r.clip(e.clipRect)}this.markerGroup.clip()}setTimeout(function(){if(t&&e[t]){e[t]=e[t].destroy();e[t+"m"]=e[t+"m"].destroy()}},100)},drawPoints:function(){var t=this,n,r=t.points,i=t.chart,s,o,u,a,f,l,c,h,p=t.options,d=p.marker,v,m,g,y=t.markerGroup;if(d.enabled||t._hasPointMarkers){u=r.length;while(u--){a=r[u];s=a.plotX;o=a.plotY;h=a.graphic;v=a.marker||{};m=d.enabled&&v.enabled===e||v.enabled;g=i.isInsidePlot(s,o,i.inverted);if(m&&o!==e&&!isNaN(o)){n=a.pointAttr[a.selected?Q:J];f=n.r;l=Bt(v.symbol,t.symbol);c=l.indexOf("url")===0;if(h){h.attr({visibility:g?S?"inherit":U:q}).animate(xt({x:s-f,y:o-f},h.symbolName?{width:2*f,height:2*f}:{}))}else if(g&&(f>0||c)){a.graphic=h=i.renderer.symbol(l,s-f,o-f,2*f,2*f).attr(n).add(y)}}else if(h){a.graphic=h.destroy()}}}},convertAttribs:function(e,t,n,r){var i=this.pointAttrToOptions,s,o,u={};e=e||{};t=t||{};n=n||{};r=r||{};for(s in i){o=i[s];u[s]=Bt(e[o],t[s],n[s],r[s])}return u},getAttribs:function(){var e=this,t=wn[e.type].marker?e.options.marker:e.options,n=t.states,r=n[K],i,s=e.color,o={stroke:s,fill:s},u=e.points||[],a,f,l=[],c,h=e.pointAttrToOptions,p,d;if(e.options.marker){r.radius=r.radius||t.radius+2;r.lineWidth=r.lineWidth||t.lineWidth+1}else{r.color=r.color||Nn(r.color||s).brighten(r.brightness).get()}l[J]=e.convertAttribs(t,o);an([K,Q],function(t){l[t]=e.convertAttribs(n[t],l[J])});e.pointAttr=l;a=u.length;while(a--){f=u[a];t=f.options&&f.options.marker||f.options;if(t&&t.enabled===false){t.radius=0}p=e.options.colorByPoint;if(f.options){for(d in h){if(Dt(t[h[d]])){p=true}}}if(p){t=t||{};c=[];n=t.states||{};i=n[K]=n[K]||{};if(!e.options.marker){i.color=Nn(i.color||f.color).brighten(i.brightness||r.brightness).get()}c[J]=e.convertAttribs(xt({color:f.color},t),l[J]);c[K]=e.convertAttribs(n[K],l[K],c[J]);c[Q]=e.convertAttribs(n[Q],l[Q],c[J])}else{c=l}f.pointAttr=c}},destroy:function(){var e=this,t=e.chart,n=/AppleWebKit\/533/.test(d),r,i,s=e.data||[],o,u,a;vn(e,"destroy");dn(e);an(["xAxis","yAxis"],function(t){a=e[t];if(a){_t(a.series,e);a.isDirty=true}});if(e.legendItem){e.chart.legend.destroyItem(e)}i=s.length;while(i--){o=s[i];if(o&&o.destroy){o.destroy()}}e.points=null;clearTimeout(e.animationTimeout);an(["area","graph","dataLabelsGroup","group","markerGroup","tracker","trackerGroup"],function(t){if(e[t]){r=n&&t==="group"?"hide":"destroy";e[t][r]()}});if(t.hoverSeries===e){t.hoverSeries=null}_t(t.series,e);for(u in e){delete e[u]}},drawDataLabels:function(){var t=this,n=t.options,r=n.dataLabels,i=t.points,s,o,u,a;if(r.enabled||t._hasPointLabels){if(t.dlProcessOptions){t.dlProcessOptions(r)}a=t.plotGroup("dataLabelsGroup","data-labels",t.visible?U:q,r.zIndex||6);o=r;an(i,function(n){var i,f=n.dataLabel,l,c,h,p=n.connector,d=true;s=n.options&&n.options.dataLabels;i=o.enabled||s&&s.enabled;if(f&&!i){n.dataLabel=f.destroy()}else if(i){h=r.rotation;r=hn(o,s);u=r.formatter.call(n.getLabelConfig(),r);r.style.color=Bt(r.color,r.style.color,t.color,"black");if(f){if(Dt(u)){f.attr({text:u});d=false}else{n.dataLabel=f=f.destroy();if(p){n.connector=p.destroy()}}}else if(Dt(u)){l={fill:r.backgroundColor,stroke:r.borderColor,"stroke-width":r.borderWidth,r:r.borderRadius||0,rotation:h,padding:r.padding,zIndex:1};for(c in l){if(l[c]===e){delete l[c]}}f=n.dataLabel=t.chart.renderer[h?"text":"label"](u,0,-999,null,null,null,r.useHTML).attr(l).css(r.style).add(a).shadow(r.shadow)}if(f){t.alignDataLabel(n,f,r,null,d)}}})}},alignDataLabel:function(e,t,n,r,s){var o=this.chart,u=o.inverted,a=Bt(e.plotX,-999),f=Bt(e.plotY,-999),l=t.getBBox(),c;r=xt({x:u?o.plotWidth-f:a,y:i(u?o.plotHeight-a:f),width:0,height:0},r);xt(n,{width:l.width,height:l.height});if(n.rotation){c={align:n.align,x:r.x+n.x+r.width/2,y:r.y+n.y+r.height/2};t[s?"attr":"animate"](c)}else{t.align(n,null,r);c=t.alignAttr}t.attr({visibility:n.crop===false||o.isInsidePlot(c.x,c.y)||o.isInsidePlot(a,f,u)?o.renderer.isSVG?"inherit":U:q})},getSegmentPath:function(e){var t=this,n=[],r=t.options.step;an(e,function(i,s){var o=i.plotX,u=i.plotY,a;if(t.getPointSpline){n.push.apply(n,t.getPointSpline(e,i,s))}else{n.push(s?V:X);if(r&&s){a=e[s-1];if(r==="right"){n.push(a.plotX,u)}else if(r==="center"){n.push((a.plotX+o)/2,a.plotY,(a.plotX+o)/2,u)}else{n.push(o,a.plotY)}}n.push(i.plotX,i.plotY)}});return n},getGraphPath:function(){var e=this,t=[],n,r=[];an(e.segments,function(i){n=e.getSegmentPath(i);if(i.length>1){t=t.concat(n)}else{r.push(i[0])}});e.singlePoints=r;e.graphPath=t;return t},drawGraph:function(){var e=this.options,t=this.graph,n=this.group,r=e.lineColor||this.color,i=e.lineWidth,s=e.dashStyle,o,u=this.getGraphPath();if(t){yn(t);t.animate({d:u})}else{if(i){o={stroke:r,"stroke-width":i,zIndex:1};if(s){o.dashstyle=s}this.graph=this.chart.renderer.path(u).attr(o).add(n).shadow(e.shadow)}}},invertGroups:function(){function n(){var t={width:e.yAxis.len,height:e.xAxis.len};an(["group","trackerGroup","markerGroup"],function(n){if(e[n]){e[n].attr(t).invert()}})}var e=this,t=e.chart;pn(t,"resize",n);pn(e,"destroy",function(){dn(t,"resize",n)});n();e.invertGroups=n},plotGroup:function(e,t,n,r,i){var s=this[e],o=!s,u=this.chart,a=this.xAxis,f=this.yAxis;if(!s){this[e]=s=u.renderer.g(t).attr({visibility:n,zIndex:r||.1}).add(i)}s[o?"attr":"animate"]({translateX:a?a.left:u.plotLeft,translateY:f?f.top:u.plotTop});return s},render:function(){var e=this,t=e.chart,n,r=e.options,i=r.animation,s=i&&!!e.animate,o=e.visible?U:q,u=r.zIndex,a=e.hasRendered,f=t.seriesGroup;n=e.plotGroup("group","series",o,u,f);e.markerGroup=e.plotGroup("markerGroup","markers",o,u,f);if(s){e.animate(true)}e.getAttribs();n.inverted=t.inverted;if(e.drawGraph){e.drawGraph()}e.drawPoints();e.drawDataLabels();if(e.options.enableMouseTracking!==false){e.drawTracker()}if(t.inverted){e.invertGroups()}if(r.clip!==false&&!e.sharedClipKey&&!a){n.clip(t.clipRect);if(this.trackerGroup){this.trackerGroup.clip(t.clipRect)}}if(s){e.animate()}else if(!a){e.afterAnimate()}e.isDirty=e.isDirtyData=false;e.hasRendered=true},redraw:function(){var e=this,t=e.chart,n=e.isDirtyData,r=e.group;if(r){if(t.inverted){r.attr({width:t.plotWidth,height:t.plotHeight})}r.animate({translateX:e.xAxis.left,translateY:e.yAxis.top})}e.translate();e.setTooltipPoints(true);e.render();if(n){vn(e,"updatedData")}},setState:function(e){var t=this,n=t.options,r=t.graph,i=n.states,s=n.lineWidth;e=e||J;if(t.state!==e){t.state=e;if(i[e]&&i[e].enabled===false){return}if(e){s=i[e].lineWidth||s+1}if(r&&!r.dashstyle){r.attr({"stroke-width":s},e?0:500)}}},setVisible:function(t,n){var r=this,i=r.chart,s=r.legendItem,o=r.group,u=r.tracker,a=r.dataLabelsGroup,f=r.markerGroup,l,c,h=r.points,p,d=i.options.chart.ignoreHiddenSeries,v=r.visible;r.visible=t=t===e?!v:t;l=t?"show":"hide";if(o){o[l]()}if(f){f[l]()}if(u){u[l]()}else if(h){c=h.length;while(c--){p=h[c];if(p.tracker){p.tracker[l]()}}}if(i.hoverSeries===r){r.onMouseOut()}if(a){a[l]()}if(s){i.legend.colorizeItem(r,t)}r.isDirty=true;if(r.options.stacking){an(i.series,function(e){if(e.options.stacking&&e.visible){e.isDirty=true}})}if(d){i.isDirtyBox=true}if(n!==false){i.redraw()}vn(r,l)},show:function(){this.setVisible(true)},hide:function(){this.setVisible(false)},select:function(t){var n=this;n.selected=t=t===e?!n.selected:t;if(n.checkbox){n.checkbox.checked=t}vn(n,t?"select":"unselect")},drawTracker:function(){var e=this,t=e.options,n=t.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),i=r.length,s=e.chart,o=s.renderer,u=s.options.tooltip.snap,a=e.tracker,f=t.cursor,l=f&&{cursor:f},c=e.singlePoints,h=this.isCartesian&&this.plotGroup("trackerGroup",null,U,t.zIndex||1,s.trackerGroup),p,d,v=function(){if(s.hoverSeries!==e){e.onMouseOver()}},m=function(){if(!t.stickyTracking){e.onMouseOut()}};if(i&&!n){d=i+1;while(d--){if(r[d]===X){r.splice(d+1,0,r[d+1]-u,r[d+2],V)}if(d&&r[d]===X||d===i){r.splice(d,0,V,r[d-2]+u,r[d-1])}}}for(d=0;d<c.length;d++){p=c[d];r.push(X,p.plotX-u,p.plotY,V,p.plotX+u,p.plotY)}if(a){a.attr({d:r})}else{e.tracker=a=o.path(r).attr({isTracker:true,"stroke-linejoin":"round",visibility:e.visible?U:q,stroke:$,fill:n?$:W,"stroke-width":t.lineWidth+(n?0:2*u)}).on("mouseover",v).on("mouseout",m).css(l).add(h);if(C){a.on("touchstart",v)}}}};var zn=It(Un);St.line=zn;wn.area=hn(En,{threshold:0});var Wn=It(Un,{type:"area",getSegmentPath:function(e){var t=Un.prototype.getSegmentPath.call(this,e),n=[].concat(t),r,i=this.options,s=t.length;if(s===3){n.push(V,t[1],t[2])}if(i.stacking&&!this.closedStacks){for(r=e.length-1;r>=0;r--){if(r<e.length-1&&i.step){n.push(e[r+1].plotX,e[r].yBottom)}n.push(e[r].plotX,e[r].yBottom)}}else{this.closeSegment(n,e)}this.areaPath=this.areaPath.concat(n);return t},closeSegment:function(e,t){var n=this.yAxis.getThreshold(this.options.threshold);e.push(V,t[t.length-1].plotX,n,V,t[0].plotX,n)},drawGraph:function(){this.areaPath=[];Un.prototype.drawGraph.apply(this);var e=this.areaPath,t=this.options,n=this.area;if(n){n.animate({d:e})}else{this.area=this.chart.renderer.path(e).attr({fill:Bt(t.fillColor,Nn(this.color).setOpacity(t.fillOpacity||.75).get()),zIndex:0}).add(this.group)}},drawLegendSymbol:function(e,t){t.legendSymbol=this.chart.renderer.rect(0,e.baseline-11,e.options.symbolWidth,12,2).attr({zIndex:3}).add(t.legendGroup)}});St.area=Wn;wn.spline=hn(En);var Xn=It(Un,{type:"spline",getPointSpline:function(e,t,n){var r=1.5,i=r+1,s=t.plotX,o=t.plotY,f=e[n-1],l=e[n+1],c,h,p,d,v;if(f&&l){var m=f.plotX,g=f.plotY,y=l.plotX,b=l.plotY,w;c=(r*s+m)/i;h=(r*o+g)/i;p=(r*s+y)/i;d=(r*o+b)/i;w=(d-h)*(p-s)/(p-c)+o-d;h+=w;d+=w;if(h>g&&h>o){h=u(g,o);d=2*o-h}else if(h<g&&h<o){h=a(g,o);d=2*o-h}if(d>b&&d>o){d=u(b,o);h=2*o-d}else if(d<b&&d<o){d=a(b,o);h=2*o-d}t.rightContX=p;t.rightContY=d}if(!n){v=[X,s,o]}else{v=["C",f.rightContX||f.plotX,f.rightContY||f.plotY,c||s,h||o,s,o];f.rightContX=f.rightContY=null}return v}});St.spline=Xn;wn.areaspline=hn(wn.area);var Vn=Wn.prototype,$n=It(Xn,{type:"areaspline",closedStacks:true,getSegmentPath:Vn.getSegmentPath,closeSegment:Vn.closeSegment,drawGraph:Vn.drawGraph});St.areaspline=$n;wn.column=hn(En,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:false},select:{color:"#C0C0C0",borderColor:"#000000",shadow:false}},dataLabels:{align:null,verticalAlign:null,y:null},threshold:0});var Jn=It(Un,{type:"column",tooltipOutsidePlot:true,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){Un.prototype.init.apply(this,arguments);var e=this,t=e.chart;if(t.hasRendered){an(t.series,function(t){if(t.type===e.type){t.isDirty=true}})}},translate:function(){var t=this,n=t.chart,r=t.options,i=r.stacking,s=r.borderWidth,l=0,c=t.xAxis,h=t.yAxis,p=c.reversed,d={},v,m;Un.prototype.translate.apply(t);if(r.grouping===false){l=1}else{an(n.series,function(n){var r=n.options;if(n.type===t.type&&n.visible&&t.options.group===r.group){if(r.stacking){v=n.stackKey;if(d[v]===e){d[v]=l++}m=d[v]}else if(r.grouping!==false){m=l++}n.columnIndex=m}})}var g=t.points,y=f(c.transA)*(c.ordinalSlope||r.pointRange||c.closestPointRange||1),b=y*r.groupPadding,w=y-2*b,E=w/l,S=r.pointWidth,x=Dt(S)?(E-S)/2:E*r.pointPadding,T=Bt(S,E-2*x),N=o(u(T,1+2*s)),C=(p?l-(t.columnIndex||0):t.columnIndex)||0,k=x+(b+C*E-y/2)*(p?-1:1),L=r.threshold,A=t.translatedThreshold=h.getThreshold(L),O=Bt(r.minPointLength,5);an(g,function(e){var r=a(u(-999,e.plotY),h.len+999),l=Bt(e.yBottom,A),c=e.plotX+k,p=o(a(r,l)),d=o(u(r,l)-p),v=h.stacks[(e.y<0?"-":"")+t.stackKey],m;if(i&&t.visible&&v&&v[e.x]){v[e.x].setOffset(k,N)}if(f(d)<O){if(O){d=O;p=f(p-A)>O?l-O:A-(r<=A?O:0)}}e.barX=c;e.pointWidth=T;e.shapeType="rect";e.shapeArgs=m=n.renderer.Element.prototype.crisp.call(0,s,c,p,N,d);if(s%2){m.y-=1;m.height+=1}e.trackerArgs=f(d)<3&&hn(e.shapeArgs,{height:6,y:p-3})})},getSymbol:H,drawLegendSymbol:Wn.prototype.drawLegendSymbol,drawGraph:H,drawPoints:function(){var t=this,n=t.options,r=t.chart.renderer,i;an(t.points,function(s){var o=s.plotY,u=s.graphic;if(o!==e&&!isNaN(o)&&s.y!==null){i=s.shapeArgs;if(u){yn(u);u.animate(hn(i))}else{s.graphic=u=r[s.shapeType](i).attr(s.pointAttr[s.selected?Q:J]).add(t.group).shadow(n.shadow,null,n.stacking&&!n.borderRadius)}}else if(u){s.graphic=u.destroy()}})},drawTracker:function(){var t=this,n=t.chart,r=n.renderer,i,s,o=+(new Date),u=t.options,a=u.cursor,f=a&&{cursor:a},l=t.isCartesian&&t.plotGroup("trackerGroup",null,U,u.zIndex||1,n.trackerGroup),c,h,p,d=t.points,v,m=d.length,g=function(e){c=e.relatedTarget||e.fromElement;if(n.hoverSeries!==t&&Pt(c,"isTracker")!==o){t.onMouseOver()}d[e.target._i+t.cropStart].onMouseOver()},y=function(e){if(!u.stickyTracking){c=e.relatedTarget||e.toElement;if(Pt(c,"isTracker")!==o){t.onMouseOut()}}};while(m--){v=d[m];s=v.tracker;i=v.trackerArgs||v.shapeArgs;h=v.plotY;p=!t.isCartesian||h!==e&&!isNaN(h);delete i.strokeWidth;if(v.y!==null&&p){if(s){s.attr(i)}else{v.tracker=s=r[v.shapeType](i).attr({isTracker:o,fill:$,visibility:t.visible?U:q}).on("mouseover",g).on("mouseout",y).css(f).add(v.group||l);if(C){s.on("touchstart",g)}}s.element._i=m}}},alignDataLabel:function(e,t,n,r,i){var s=this.chart,o=s.inverted,u=e.below||e.plotY>Bt(this.translatedThreshold,s.plotSizeY),a=this.options.stacking||n.inside;if(e.shapeArgs){r=hn(e.shapeArgs);if(o){r={x:s.plotWidth-r.y-r.height,y:s.plotHeight-r.x-r.width,width:r.height,height:r.width}}if(!a){if(o){r.x+=u?0:r.width;r.width=0}else{r.y+=u?r.height:0;r.height=0}}}n.align=Bt(n.align,!o||a?"center":u?"right":"left");n.verticalAlign=Bt(n.verticalAlign,o||a?"middle":u?"top":"bottom");Un.prototype.alignDataLabel.call(this,e,t,n,r,i)},animate:function(e){var t=this,n=t.points,r=t.options;if(!e){an(n,function(e){var n=e.graphic,i=e.shapeArgs,s=t.yAxis,o=r.threshold;if(n){n.attr({height:0,y:Dt(o)?s.getThreshold(o):s.translate(s.getExtremes().min,0,1,0,1)});n.animate({height:i.height,y:i.y},r.animation)}});t.animate=null}},remove:function(){var e=this,t=e.chart;if(t.hasRendered){an(t.series,function(t){if(t.type===e.type){t.isDirty=true}})}Un.prototype.remove.apply(e,arguments)}});St.column=Jn;wn.bar=hn(wn.column);var Kn=It(Jn,{type:"bar",inverted:true});St.bar=Kn;wn.scatter=hn(En,{lineWidth:0,states:{hover:{lineWidth:0}},tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});var Qn=It(Un,{type:"scatter",sorted:false,requireSorting:false,noSharedTooltip:true,translate:function(){var e=this;Un.prototype.translate.apply(e);an(e.points,function(t){t.shapeType="circle";t.shapeArgs={x:t.plotX,y:t.plotY,r:e.chart.options.tooltip.snap}})},drawTracker:function(){var t=this,n=t.options.cursor,r=n&&{cursor:n},i=t.points,s=i.length,o,u=t.markerGroup,a=function(n){t.onMouseOver();if(n.target._i!==e){i[n.target._i].onMouseOver()}},f=function(){if(!t.options.stickyTracking){t.onMouseOut()}};while(s--){o=i[s].graphic;if(o){o.element._i=s}}if(!t._hasTracking){u.attr({isTracker:true}).on("mouseover",a).on("mouseout",f).css(r);if(C){u.on("touchstart",a)}}else{t._hasTracking=true}},setTooltipPoints:H});St.scatter=Qn;wn.pie=hn(En,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:true,dataLabels:{distance:30,enabled:true,formatter:function(){return this.point.name}},legendType:"point",marker:null,size:"75%",showInLegend:false,slicedOffset:10,states:{hover:{brightness:.1,shadow:false}}});var Gn=It(Rn,{init:function(){Rn.prototype.init.apply(this,arguments);var e=this,t;xt(e,{visible:e.visible!==false,name:Bt(e.name,"Slice")});t=function(){e.slice()};pn(e,"select",t);pn(e,"unselect",t);return e},setVisible:function(t){var n=this,r=n.series,i=r.chart,s=n.tracker,o=n.dataLabel,u=n.connector,a=n.shadowGroup,f;n.visible=t=t===e?!n.visible:t;f=t?"show":"hide";n.group[f]();if(s){s[f]()}if(o){o[f]()}if(u){u[f]()}if(a){a[f]()}if(n.legendItem){i.legend.colorizeItem(n,t)}if(!r.isDirty&&r.options.ignoreHiddenPoint){r.isDirty=true;i.redraw()}},slice:function(e,t,n){var r=this,i=r.series,s=i.chart,o=r.slicedTranslation,u;tn(n,s);t=Bt(t,true);e=r.sliced=Dt(e)?e:!r.sliced;u={translateX:e?o[0]:s.plotLeft,translateY:e?o[1]:s.plotTop};r.group.animate(u);if(r.shadowGroup){r.shadowGroup.animate(u)}}});var Yn={type:"pie",isCartesian:false,pointClass:Gn,requireSorting:false,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=this.chart.counters.color},animate:function(){var e=this,t=e.points,n=e.startAngleRad;an(t,function(t){var r=t.graphic,i=t.shapeArgs;if(r){r.attr({r:e.center[3]/2,start:n,end:n});r.animate({r:i.r,start:i.start,end:i.end},e.options.animation)}});e.animate=null},setData:function(e,t){Un.prototype.setData.call(this,e,false);this.processData();this.generatePoints();if(Bt(t,true)){this.chart.redraw()}},getCenter:function(){var e=this.options,t=this.chart,n=t.plotWidth,r=t.plotHeight,i=e.center.concat([e.size,e.innerSize||0]),s=a(n,r),o;return cn(i,function(e,t){o=/%$/.test(e);return o?[n,r,s,s][t]*Nt(e)/100:e})},translate:function(){this.generatePoints();var e=0,t=this,n=0,s=1e3,o=t.options,u=o.slicedOffset,a=u+o.borderWidth,f,p=t.chart,d,v,m,g=t.startAngleRad=h/180*((o.startAngle||0)%360-90),y=t.points,b=2*h,w,E,S,x=o.dataLabels.distance,T=o.ignoreHiddenPoint,N,C=y.length,k;t.center=f=t.getCenter();t.getX=function(e,t){m=r.asin((e-f[1])/(f[2]/2+x));return f[0]+(t?-1:1)*l(m)*(f[2]/2+x)};for(N=0;N<C;N++){k=y[N];e+=T&&!k.visible?0:k.y}for(N=0;N<C;N++){k=y[N];w=e?k.y/e:0;d=i((g+n*b)*s)/s;if(!T||k.visible){n+=w}v=i((g+n*b)*s)/s;k.shapeType="arc";k.shapeArgs={x:f[0],y:f[1],r:f[2]/2,innerR:f[3]/2,start:d,end:v};m=(v+d)/2;if(m>.75*b){m-=2*h}k.slicedTranslation=cn([l(m)*u+p.plotLeft,c(m)*u+p.plotTop],i);E=l(m)*f[2]/2;S=c(m)*f[2]/2;k.tooltipPos=[f[0]+E*.7,f[1]+S*.7];k.half=m<b/4?0:1;k.angle=m;k.labelPos=[f[0]+E+l(m)*x,f[1]+S+c(m)*x,f[0]+E+l(m)*a,f[1]+S+c(m)*a,f[0]+E,f[1]+S,x<0?"center":k.half?"right":"left",m];k.percentage=w*100;k.total=e}this.setTooltipPoints()},render:function(){var e=this;e.getAttribs();this.drawPoints();if(e.options.enableMouseTracking!==false){e.drawTracker()}this.drawDataLabels();if(e.options.animation&&e.animate){e.animate()}e.isDirty=false},drawPoints:function(){var e=this,t=e.chart,n=t.renderer,r,i,s,o=e.options.shadow,u,a;an(e.points,function(f){i=f.graphic;a=f.shapeArgs;s=f.group;u=f.shadowGroup;if(o&&!u){u=f.shadowGroup=n.g("shadow").attr({zIndex:4}).add()}if(!s){s=f.group=n.g("point").attr({zIndex:5}).add()}r=f.sliced?f.slicedTranslation:[t.plotLeft,t.plotTop];s.translate(r[0],r[1]);if(u){u.translate(r[0],r[1])}if(i){i.animate(a)}else{f.graphic=i=n.arc(a).setRadialReference(e.center).attr(xt(f.pointAttr[J],{"stroke-linejoin":"round"})).add(f.group).shadow(o,u)}if(f.visible===false){f.setVisible(false)}})},drawDataLabels:function(){var e=this,t=e.data,n,r=e.chart,i=e.options.dataLabels,s=Bt(i.connectorPadding,10),o=Bt(i.connectorWidth,1),u,a,l=Bt(i.softConnector,true),c=i.distance,h=e.center,p=h[2]/2,d=h[1],v=c>0,m,g,y,b=[[],[]],w,E,S,x,T=2,N,C=function(e,t){return t.y-e.y},k=function(e,t){e.sort(function(e,n){return(n.angle-e.angle)*t})};if(!i.enabled&&!e._hasPointLabels){return}Un.prototype.drawDataLabels.apply(e);an(t,function(e){if(e.dataLabel){b[e.half].push(e)}});y=b[0][0]&&b[0][0].dataLabel&&(b[0][0].dataLabel.getBBox().height||21);while(T--){var L=[],A,O=[],M=b[T],_,D=M.length,P;k(M,T-.5);if(c>0){for(_=d-p-c;_<=d+p+c;_+=y){L.push(_)}A=L.length;if(D>A){x=[].concat(M);x.sort(C);N=D;while(N--){x[N].rank=N}N=D;while(N--){if(M[N].rank>=A){M.splice(N,1)}}D=M.length}for(N=0;N<D;N++){n=M[N];g=n.labelPos;var H=9999,B,j;for(j=0;j<A;j++){B=f(L[j]-g[1]);if(B<H){H=B;P=j}}if(P<N&&L[N]!==null){P=N}else if(A<D-N+P&&L[N]!==null){P=A-D+N;while(L[P]===null){P++}}else{while(L[P]===null){P++}}O.push({i:P,y:L[P]});L[P]=null}O.sort(C)}for(N=0;N<D;N++){var F,I;n=M[N];g=n.labelPos;m=n.dataLabel;S=n.visible===false?q:U;I=g[1];if(c>0){F=O.pop();P=F.i;E=F.y;if(I>E&&L[P+1]!==null||I<E&&L[P-1]!==null){E=I}}else{E=I}w=i.justify?h[0]+(T?-1:1)*(p+c):e.getX(P===0||P===L.length-1?I:E,T);m.attr({visibility:S,align:g[6]})[m.moved?"animate":"attr"]({x:w+i.x+({left:s,right:-s}[g[6]]||0),y:E+i.y-10});m.moved=true;if(v&&o){u=n.connector;a=l?[X,w+(g[6]==="left"?5:-5),E,"C",w,E,2*g[2]-g[4],2*g[3]-g[5],g[2],g[3],V,g[4],g[5]]:[X,w+(g[6]==="left"?5:-5),E,V,g[2],g[3],V,g[4],g[5]];if(u){u.animate({d:a});u.attr("visibility",S)}else{n.connector=u=e.chart.renderer.path(a).attr({"stroke-width":o,stroke:i.connectorColor||n.color||"#606060",visibility:S,zIndex:3}).translate(r.plotLeft,r.plotTop).add()}}}}},alignDataLabel:H,drawTracker:Jn.prototype.drawTracker,drawLegendSymbol:Wn.prototype.drawLegendSymbol,getSymbol:function(){}};Yn=It(Un,Yn);St.pie=Yn;xt(Highcharts,{Axis:Bn,CanVGRenderer:Mn,Chart:qn,Color:Nn,Legend:In,MouseTracker:Fn,Point:Rn,Tick:Dn,Tooltip:jn,Renderer:N,Series:Un,SVGRenderer:kn,VMLRenderer:Ln,arrayMin:Kt,arrayMax:Qt,charts:B,dateFormat:M,pathAnim:D,getOptions:Tn,hasBidiBug:x,isTouchDevice:w,numberFormat:Rt,seriesTypes:St,setOptions:xn,addEvent:pn,removeEvent:dn,createElement:Ft,discardElement:Yt,css:jt,each:an,extend:xt,map:cn,merge:hn,pick:Bt,splat:Ht,extendClass:It,pInt:Nt,wrap:zt,svg:S,canvas:T,vml:!S&&!T,product:"Highcharts",version:"2.3.5"})})()
